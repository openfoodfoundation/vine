import{r as x,o as w,c as l,e as V,a as d,d as e,F as k,h as B,b as i,w as _,f as m,t as a,u as c,S as u}from"./app-eM5Dm2xO.js";import{P as T}from"./PaginatorComponent-B57F1ZO2.js";import{d as v}from"./dayjs.min-Df_5bIfu.js";import{r as C}from"./relativeTime-D8DyR-56.js";import{u as N}from"./utc-YUqv1m0j.js";const q={key:0},I={class:"w-full text-xs"},j={class:"hover:bg-gray-100 border-b"},F={class:"py-1"},D={class:"text-right"},P={key:0},A={key:1},Y={class:"text-right"},E={key:0},L={key:1},M={class:"flex justify-end"},R={class:"flex justify-end items-center mt-4"},$={class:"w-full lg:w-1/3"},O={__name:"VoucherSetsComponent",props:{teamId:{required:!1,default:null},filterVoucherSets:{required:!1,default:null}},setup(b){v.extend(C),v.extend(N);const r=b,f=x(50),o=x({});w(()=>{r.teamId&&(f.value=10),h()});function h(p=1){let s="";r.teamId&&r.filterVoucherSets&&(s="&where[]="+r.filterVoucherSets+","+r.teamId),axios.get("/admin/voucher-sets?cached=false&page="+p+"&limit="+f.value+s+"&orderBy=created_at,desc&relations=createdByTeam,allocatedToServiceTeam,currencyCountry").then(t=>{o.value=t.data.data}).catch(t=>{console.log(t)})}return(p,s)=>o.value.data&&o.value.data.length?(d(),l("div",q,[e("table",I,[s[1]||(s[1]=e("thead",{class:"bg-gray-200 font-bold border-b"},[e("tr",null,[e("td",{class:"p-2"},"ID"),e("td",{class:""},"Name"),e("td",null,"Test?"),e("td",null,"Created By"),e("td",null,"Allocated To"),e("td",null,"Approved"),e("td",{class:"text-right"},"Total Value"),e("td",{class:"text-right"},"Value Remainaing"),e("td")])],-1)),e("tbody",null,[(d(!0),l(k,null,B(o.value.data,t=>{var g,y;return d(),l("tr",j,[e("td",F,[i(c(u),{href:"/admin/voucher-set/"+t.id},{default:_(()=>[m(" #"+a(t.id),1)]),_:2},1032,["href"])]),e("td",null,a(t.name??"(Voucher set name not generated yet)"),1),e("td",null,a(t.is_test?"Yes":""),1),e("td",null,[i(c(u),{href:"/admin/team/"+t.created_by_team_id},{default:_(()=>{var n;return[m(a((n=t.created_by_team)==null?void 0:n.name),1)]}),_:2},1032,["href"])]),e("td",null,[i(c(u),{href:"/admin/team/"+t.allocated_to_service_team_id},{default:_(()=>{var n;return[m(a((n=t.allocated_to_service_team)==null?void 0:n.name),1)]}),_:2},1032,["href"])]),e("td",null,a(t.merchant_approval_request_id?"Yes":"--"),1),e("td",D,[t.merchant_approval_request_id?(d(),l("div",P,a(Number(t.total_set_value/100).toFixed(2))+" "+a((g=t.currency_country)==null?void 0:g.currency_code),1)):(d(),l("div",A," -- "))]),e("td",Y,[t.merchant_approval_request_id?(d(),l("div",E,a(Number(t.total_set_value_remaining/100).toFixed(2))+" "+a((y=t.total_set_value_remaining)==null?void 0:y.currency_code),1)):(d(),l("div",L," -- "))]),e("td",M,[i(c(u),{class:"secondaryButton",href:"/admin/voucher-set/"+t.id},{default:_(()=>s[0]||(s[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])),_:2,__:[0]},1032,["href"])])])}),256))])]),e("div",R,[e("div",$,[i(T,{onSetDataPage:h,"pagination-data":o.value},null,8,["pagination-data"])])])])):V("",!0)}};export{O as _};
