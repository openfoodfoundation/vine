import{_ as y}from"./AuthenticatedLayout-C2hWJ0Ka.js";import{r as b,o as g,a as d,b as a,d as _,u as i,w as c,F as h,Z as k,f as n,e,t as o,h as r,i as V,j as N}from"./app-CZIcKt2y.js";import{d as l}from"./dayjs.min-B2A1-x4Q.js";import{r as R}from"./relativeTime-D2v-S27q.js";import{u as T}from"./utc-BldQNS7c.js";import"./ApplicationLogo-CjnD_xkm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-DvVpI_7K.js";const w={class:"grid grid-cols-2 gap-8 container mx-auto mt-8"},B={class:"card"},C={class:"opacity-25"},S={key:0,class:"mt-4"},$={key:1,class:"font-bold text-red-500 text-sm"},D={class:"card"},I={key:0},j={class:"card"},E={class:"grid grid-cols-4 gap-y-12 text-center mt-8"},F={class:"font-bold text-3xl"},L={class:"font-bold text-3xl"},q={class:"font-bold text-3xl"},A={key:0},M={class:"font-bold text-3xl"},O={class:"text-xs"},U={key:1},Z={class:"font-bold text-3xl"},z={class:"text-xs"},G={class:"grid grid-cols-2 gap-8 container mx-auto"},H={class:"card"},J={key:0},K={key:1,class:"text-xs mt-2"},P={class:"card"},Q={key:0},W={class:"card"},X={key:0,class:"text-sm"},Y={class:"border-b py-2 sm:p-2"},ee={class:"font-bold"},te={key:0},se={class:"font-bold"},oe={key:1},de={class:"font-bold"},ce={__name:"Voucher",props:{voucherId:{type:String,required:!1}},setup(p){l.extend(R),l.extend(T);const x=p,s=b({});g(()=>{f()});function f(){axios.get("/my-team-vouchers/"+x.voucherId+"?cached=false&relations=createdByTeam,allocatedToServiceTeam,voucherRedemptions.redeemedByUser,voucherRedemptions.redeemedByTeam,voucherSet").then(v=>{s.value=v.data.data}).catch(v=>{console.log(v)})}return(v,t)=>(d(),a(h,null,[_(i(k),{title:"Voucher"}),_(y,null,{header:c(()=>t[0]||(t[0]=[n(" Voucher ")])),default:c(()=>{var m;return[e("div",w,[e("div",B,[t[1]||(t[1]=e("div",{class:"card-header"}," Voucher Details ",-1)),e("h2",C," ID: "+o(s.value.id),1),s.value.voucher_short_code?(d(),a("div",S,[e("h2",null," Short Code: "+o(s.value.voucher_short_code),1)])):r("",!0),s.value.is_test?(d(),a("div",$," Test voucher ")):r("",!0)]),e("div",D,[t[2]||(t[2]=e("div",{class:"card-header"}," Voucher set ",-1)),s.value.voucher_set_id?(d(),a("div",I,[_(i(V),{href:v.route("voucher-set",{id:s.value.voucher_set_id})},{default:c(()=>[n(o(s.value.voucher_set_id),1)]),_:1},8,["href"])])):r("",!0)])]),e("div",j,[t[8]||(t[8]=e("div",{class:"card-header"}," Voucher details ",-1)),e("div",E,[e("div",null,[e("div",F," $"+o(s.value.voucher_value_original/100),1),t[3]||(t[3]=n(" Original value "))]),e("div",null,[e("div",L," $"+o(s.value.voucher_value_remaining/100),1),t[4]||(t[4]=n(" Remaining value "))]),e("div",null,[e("div",q,o(s.value.num_voucher_redemptions??"0"),1),t[5]||(t[5]=n(" # Redemptions "))]),s.value.last_redemption_at?(d(),a("div",A,[t[6]||(t[6]=e("div",null," Last redeemed ",-1)),e("div",M,o(i(l).utc(s.value.last_redemption_at).fromNow()),1),e("div",O," ("+o(i(l)(s.value.last_redemption_at))+") ",1)])):r("",!0),(m=s.value.voucher_set)!=null&&m.expires_at?(d(),a("div",U,[t[7]||(t[7]=e("div",null," Expires ",-1)),e("div",Z,o(i(l).utc(s.value.voucher_set.expires_at).fromNow()),1),e("div",z," ("+o(i(l)(s.value.voucher_set.expires_at))+") ",1)])):r("",!0)])]),e("div",G,[e("div",H,[t[9]||(t[9]=e("div",{class:"card-header"}," Created by team ",-1)),s.value.created_by_team?(d(),a("div",J,o(s.value.created_by_team.name),1)):r("",!0),s.value.created_at?(d(),a("div",K," Created at: "+o(i(l).utc(s.value.created_at).fromNow())+" ("+o(i(l)(s.value.created_at))+") ",1)):r("",!0)]),e("div",P,[t[10]||(t[10]=e("div",{class:"card-header"}," Allocated to team ",-1)),s.value.allocated_to_service_team?(d(),a("div",Q,o(s.value.allocated_to_service_team.name),1)):r("",!0)])]),e("div",W,[t[14]||(t[14]=e("div",{class:"card-header"}," Voucher redemptions ",-1)),s.value.voucher_redemptions&&s.value.voucher_redemptions.length?(d(),a("div",X,[(d(!0),a(h,null,N(s.value.voucher_redemptions,u=>(d(),a("div",Y,[e("div",null,[t[11]||(t[11]=n(" Redeemed amount: ")),e("span",ee,"$"+o(u.redeemed_amount/100),1)]),u.redeemed_by_user&&u.redeemed_by_team?(d(),a("div",te,[t[12]||(t[12]=n(" Redeemed by: ")),e("span",se,o(u.redeemed_by_user.name)+" ("+o(u.redeemed_by_team.name)+")",1)])):r("",!0),u.created_at?(d(),a("div",oe,[t[13]||(t[13]=n(" Redeemed at: ")),e("span",de,o(i(l).utc(u.created_at).fromNow())+" ("+o(i(l)(u.created_at))+")",1)])):r("",!0)]))),256))])):r("",!0)]),t[15]||(t[15]=e("div",{class:"pb-32"},null,-1))]}),_:1})],64))}};export{ce as default};
