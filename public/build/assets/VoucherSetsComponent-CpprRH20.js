import{r as p,o as x,c as l,e as v,a as d,d as e,F as b,g as k,b as n,w as i,f as u,t as a,u as c,l as _}from"./app-DmpzTF29.js";import{P as w}from"./PaginatorComponent-BstaA1hZ.js";import{d as g}from"./dayjs.min-CVnLEuXg.js";import{r as V}from"./relativeTime-YocTBVjx.js";import{u as B}from"./utc-Ck8zM3r2.js";const T={key:0},C={class:"w-full text-xs"},N={class:"hover:bg-gray-100 border-b"},q={class:"py-1"},I={class:"text-right"},j={key:0},F={key:1},D={class:"text-right"},P={key:0},A={key:1},Y={class:"flex justify-end"},E={class:"flex justify-end items-center mt-4"},L={class:"w-full lg:w-1/3"},H={__name:"VoucherSetsComponent",props:{teamId:{required:!1,default:null},filterVoucherSets:{required:!1,default:null}},setup(y){g.extend(V),g.extend(B);const r=y,m=p(50),o=p({});x(()=>{r.teamId&&(m.value=10),f()});function f(h=1){let s="";r.teamId&&r.filterVoucherSets&&(s="&where[]="+r.filterVoucherSets+","+r.teamId),axios.get("/admin/voucher-sets?cached=false&page="+h+"&limit="+m.value+s+"&orderBy=created_at,desc&relations=createdByTeam,allocatedToServiceTeam,currencyCountry").then(t=>{o.value=t.data.data}).catch(t=>{console.log(t)})}return(h,s)=>o.value.data&&o.value.data.length?(d(),l("div",T,[e("table",C,[s[1]||(s[1]=e("thead",{class:"bg-gray-200 font-bold border-b"},[e("tr",null,[e("td",{class:"p-2"},"ID"),e("td",{class:""},"Name"),e("td",null,"Test?"),e("td",null,"Created By"),e("td",null,"Allocated To"),e("td",null,"Approved"),e("td",{class:"text-right"},"Total Value"),e("td",{class:"text-right"},"Value Remainaing"),e("td")])],-1)),e("tbody",null,[(d(!0),l(b,null,k(o.value.data,t=>(d(),l("tr",N,[e("td",q,[n(c(_),{href:"/admin/voucher-set/"+t.id},{default:i(()=>[u(" #"+a(t.id),1)]),_:2},1032,["href"])]),e("td",null,a(t.name??"(Voucher set name not generated yet)"),1),e("td",null,a(t.is_test?"Yes":""),1),e("td",null,[n(c(_),{href:"/admin/team/"+t.created_by_team_id},{default:i(()=>[u(a(t.created_by_team?.name),1)]),_:2},1032,["href"])]),e("td",null,[n(c(_),{href:"/admin/team/"+t.allocated_to_service_team_id},{default:i(()=>[u(a(t.allocated_to_service_team?.name),1)]),_:2},1032,["href"])]),e("td",null,a(t.merchant_approval_request_id?"Yes":"--"),1),e("td",I,[t.merchant_approval_request_id?(d(),l("div",j,a(Number(t.total_set_value/100).toFixed(2))+" "+a(t.currency_country?.currency_code),1)):(d(),l("div",F," -- "))]),e("td",D,[t.merchant_approval_request_id?(d(),l("div",P,a(Number(t.total_set_value_remaining/100).toFixed(2))+" "+a(t.total_set_value_remaining?.currency_code),1)):(d(),l("div",A," -- "))]),e("td",Y,[n(c(_),{class:"secondaryButton",href:"/admin/voucher-set/"+t.id},{default:i(()=>[...s[0]||(s[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])]),_:1},8,["href"])])]))),256))])]),e("div",E,[e("div",L,[n(w,{onSetDataPage:f,"pagination-data":o.value},null,8,["pagination-data"])])])])):v("",!0)}};export{H as _};
