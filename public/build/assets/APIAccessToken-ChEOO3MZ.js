import{_ as h,S as y}from"./AuthenticatedLayout-D11akeJv.js";import{r as b,o as A,c as i,a as r,b as l,u as p,h as x,w as d,d as t,t as a,e as u,f as n,l as w,F as g}from"./app-DmpzTF29.js";import{_ as T}from"./AdminTopNavigation-CbsZ4OES.js";import{d as c}from"./dayjs.min-CVnLEuXg.js";import{r as N}from"./relativeTime-YocTBVjx.js";import{l as B}from"./localizedFormat-B08n3NgT.js";import{P as C}from"./PrimaryButton-BxaKbujp.js";import"./ApplicationLogo-DNswn0CG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"card"},L={class:"card"},F={class:"my-1"},V={key:0,class:"my-1"},$={key:1,class:"my-1"},I={key:2,class:"my-1"},S={class:"my-1"},j={class:"card"},E={key:0},R={class:"card"},U={__name:"APIAccessToken",props:{id:{required:!0,type:Number}},setup(v){const f=v,s=b({});A(()=>{_()});function m(o){return c.extend(N),c.extend(B),c(o).fromNow()+" ("+c(o).format("LLLL")+")"}function _(){axios.get("/admin/user-personal-access-tokens/"+f.id+"?cached=false&relations=user").then(o=>{s.value=o.data.data}).catch(o=>{console.log(o)})}function k(){y.fire({title:"Are you sure you want to delete this token?",text:"This action cannot be undone, and the user will no longer be able to use this token. Please confirm if you wish to proceed.",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Revoke this token",showCancelButton:!0}).then(o=>{o.isConfirmed&&axios.delete("/admin/user-personal-access-tokens/"+f.id).then(e=>{window.location.href=route("admin.api-access-tokens")}).catch(e=>{console.log(e)})})}return(o,e)=>(r(),i(g,null,[l(p(x),{title:"API Access Token"}),l(h,null,{header:d(()=>[l(T)]),default:d(()=>[t("div",P,[t("h2",null,a(s.value.name)+" (#"+a(s.value.id)+") ",1)]),t("div",L,[e[6]||(e[6]=t("div",{class:"card-header"}," API Access Token details ",-1)),t("div",F,[e[1]||(e[1]=t("span",{class:"font-bold"}," Name: ",-1)),n(" "+a(s.value.name),1)]),s.value.tokenable_id?(r(),i("div",V,[e[2]||(e[2]=t("span",{class:"font-bold"}," Assigned To: ",-1)),l(p(w),{href:o.route("admin.user",{id:s.value.tokenable_id})},{default:d(()=>[n(a(s.value.user?.name),1)]),_:1},8,["href"])])):u("",!0),s.value.created_at?(r(),i("div",$,[e[3]||(e[3]=t("span",{class:"font-bold"}," Created: ",-1)),n(" "+a(m(s.value.created_at)),1)])):u("",!0),s.value.last_used_at?(r(),i("div",I,[e[4]||(e[4]=t("span",{class:"font-bold"}," Last used: ",-1)),n(" "+a(m(s.value.last_used_at)),1)])):u("",!0),t("div",S,[e[5]||(e[5]=t("span",{class:"font-bold"}," Expires: ",-1)),n(" "+a(s.value.expires_at?m(s.value.expires_at):"(No expiry)"),1)])]),t("div",j,[e[7]||(e[7]=t("div",{class:"card-header"}," Abilities ",-1)),s.value.abilities&&s.value.abilities.length?(r(),i("div",E,a(s.value.abilities.join(", ")),1)):u("",!0)]),t("div",R,[l(C,{onClick:e[0]||(e[0]=q=>k())},{default:d(()=>[...e[8]||(e[8]=[n(" Revoke this token ",-1)])]),_:1})])]),_:1})],64))}};export{U as default};
