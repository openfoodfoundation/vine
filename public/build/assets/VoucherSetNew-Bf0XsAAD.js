import{S as Z,_ as de}from"./AuthenticatedLayout-BsKYk4bU.js";import{Q as ue,r as d,o as ve,p as B,b as s,c as l,d as t,f as m,q as ce,h as V,w as g,e as r,l as x,m as me,s as b,F as w,g as _,t as a,u as T,n as W,a as $,v as pe,Z as he}from"./app-B_Y3AxQI.js";import{_ as fe}from"./AdminTopNavigation-DSOlL9dV.js";import{_ as Y}from"./SecondaryButton-1eqYXSKv.js";import{P as N}from"./PrimaryButton-DM7J3aih.js";import"./ApplicationLogo-IkpZoJBe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={class:"py-8 space-y-8"},we={class:"card"},_e={class:""},ge={key:0},ke={class:"flex justify-start mt-8"},ye={key:0,class:"space-y-8"},be={id:"testSection",class:"card"},Ce={class:"card-header flex justify-between"},Me={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Se={key:1,class:"size-6 text-orange-500 fill-orange-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Te={class:"my-8"},je={class:"mb-2",for:"voucherSet.is_test"},Ze={id:"serviceTeamSection",class:"card"},Be={class:"card-header flex justify-between"},Ve={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},$e={key:1,class:"size-6 text-red-500 fill-red-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ze={key:0},Ee={for:"service-team-search"},Le={class:"my-4 flex flex-wrap gap-2"},He={key:1},Fe={id:"merchantTeamSection",class:"card"},Ue={class:"card-header flex justify-between"},Ie={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ne={key:1,class:"size-6 text-red-500 fill-red-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Re={for:"service-team-search"},De={class:"my-4 flex flex-wrap gap-2"},qe={key:0,class:"mt-8"},Ae={class:"mt-2"},Oe=["onClick"],We={id:"fundingTeamSection",class:"card"},Ye={class:"card-header flex justify-between"},Pe={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Qe={key:1,class:"size-6 text-orange-500 fill-orange-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ge={key:0},Je={for:"service-team-search"},Ke={class:"my-4 flex flex-wrap gap-2"},Xe={key:1},et={id:"totalValueSection",class:"card"},tt={class:"card-header flex justify-between"},st={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ot={key:1,class:"size-6 text-red-500 fill-red-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},lt={class:"my-8"},nt={for:"voucherSet.total_set_value"},it={class:"font-bold"},rt={id:"denominationsSection",class:"card"},at={class:"card-header flex justify-between"},dt={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ut={key:1,class:"size-6 text-orange-500 fill-orange-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},vt={key:2,class:"size-6 text-red-500 fill-red-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ct={class:"flex justify-between items-center"},mt={class:"mt-4"},pt={class:"mb-2 flex justify-start items-center border-b py-4"},ht=["onUpdate:modelValue"],ft={class:"pl-4"},xt={class:"text-xs"},wt=["onUpdate:modelValue"],_t={class:"pt-6"},gt=["onClick"],kt={class:"pt-8"},yt={class:"text-center mx-24 p-8 rounded-lg border-4 border-gray-200"},bt={class:"text-xs"},Ct={key:0,class:"text-xs text-red-500 mt-4"},Mt={key:1,class:"text-xs text-green-500 mt-4"},St={key:2,class:"text-xs text-gray-500 mt-4"},Tt={id:"expirationSection",class:"card"},jt={class:"card-header flex justify-between"},Zt={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Bt={key:1,class:"size-6 text-orange-500 fill-orange-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Vt={class:"my-8"},$t={class:"mt-4"},zt={class:"italic"},Et={class:"mt-4"},Lt={key:0,class:"mt-8"},Ht={key:1,class:"text-xs italic"},Ft={id:"voucherTypeSection",class:"card"},Ut={class:"card-header flex justify-between"},It={key:0,class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Nt={key:1,class:"size-6 text-red-500 fill-red-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Rt={class:"mt-4"},Dt={class:""},qt=["value"],At={class:"card"},Ot={class:"card-header flex justify-between"},Wt={class:""},Yt={key:0,class:"flex text-green-500 items-center"},Pt={key:1,class:"flex text-red-500 items-center"},Qt={class:"my-8"},Gt={class:"list-disc space-y-6 pl-4"},Jt={class:"font-bold"},Kt={key:0,class:"font-bold"},Xt={class:"font-bold"},es={key:0,class:"font-bold"},ts={class:"font-bold"},ss={class:"font-bold"},os={class:"font-bold"},ls={class:""},ns={key:0},is={class:"font-bold"},rs={key:1},as={class:"flex justify-end"},ds={__name:"VoucherSetNewComponent",setup(P){const k=ue().props,z=d(!1),E=d(!1),R=d([]),L=d([]),C=d(""),p=d(""),H=d([]),F=d([]),j=d(""),u=d([]),U=d([]),M=d([]),h=d(""),S=d(""),i=d({is_test:0,allocated_to_service_team_id:"",merchant_team_ids:[],funded_by_team_id:"",total_set_value:0,denominations:[{number:1,value:5}],expires_at:"",voucher_set_type:""});function v(){return i.value.total_set_value-A()}function Q(){axios.post("/admin/voucher-sets",i.value).then(n=>{Z.fire({title:"Nice!",icon:"success",text:n.data.data.message,showConfirmButton:!1,timer:600}).then(()=>{window.location.href="/admin/voucher-set/"+n.data.data.id})}).catch(n=>{Z.fire({title:"Oops!",icon:"error",text:n.response.data.meta.message}),console.log(n)})}function G(){i.value.denominations.push({value:5,number:1})}function J(n){n>-1&&i.value.denominations.splice(n,1)}function K(){C.value.length?L.value=R.value.filter(n=>n.name.toLowerCase().includes(C.value)):L.value=R.value}function q(){if(j.value.length){const n=H.value.filter(e=>{var y;return(y=e.merchant_team)==null?void 0:y.name.toLowerCase().includes(j.value)});F.value=n.filter(e=>!u.value.some(y=>e.merchant_team.id===y.id))}else F.value=H.value}function X(){S.value.length?M.value=U.value.filter(n=>{var e;return(e=n.service_team)==null?void 0:e.name.toLowerCase().includes(S.value)}):M.value=U.value}function ee(){axios.get("/admin/teams").then(n=>{R.value=n.data.data.data}).catch(n=>{Z.fire({icon:"error",title:"Oops!",text:n.response.data.meta.message})})}function te(n){axios.get("/admin/team-merchant-teams?relations=merchantTeam&where[]=team_id,"+n.id).then(e=>{H.value=e.data.data.data,F.value=e.data.data.data}).catch(e=>{Z.fire({icon:"error",title:"Oops!",text:e.response.data.meta.message})})}function se(){axios.get("/admin/team-service-teams?relations=serviceTeam&where[]=team_id,"+k.auth.user.current_team_id).then(n=>{U.value=n.data.data.data,M.value=n.data.data.data}).catch(n=>{Z.fire({icon:"error",title:"Oops!",text:n.response.data.meta.message})})}function f(n){const e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth"})}function oe(n){p.value=n,i.value.funded_by_team_id=n.id,L.value=[],C.value=""}function le(n){i.value.merchant_team_ids=[],i.value.merchant_team_ids.includes(n.id)||(i.value.merchant_team_ids.push(n.id),u.value=[],u.value.push(n))}function ne(n){h.value=n,i.value.allocated_to_service_team_id=n.id,M.value=[],S.value="",te(n)}function ie(){h.value="",i.value.allocated_to_service_team_id="",M.value=Object.assign({},U.value),u.value=[],H.value=[],i.value.merchant_team_ids=[]}function re(){E.value=!0}function A(){let n=0;return i.value.denominations.forEach(e=>{n+=e.number*e.value}),n}function ae(n){n>-1&&u.value.splice(n,1)}return ve(()=>{ee(),se()}),B(u,()=>{q()},{deep:!0}),B(i,()=>{z.value=i.value.total_set_value>0&&i.value.merchant_team_ids.length>0&&i.value.allocated_to_service_team_id&&i.value.voucher_set_type&&v()>=0},{deep:!0}),B(C,()=>{K()}),B(j,()=>{q()}),B(S,()=>{X()}),(n,e)=>{var y,O;return s(),l("div",null,[t("div",xe,[t("div",we,[e[25]||(e[25]=t("div",{class:"card-header"}," Create A Voucher Set ",-1)),t("div",_e,[E.value?m("",!0):(s(),l("div",ge,e[22]||(e[22]=[t("div",{class:"my-8"}," This process will bring you through creating a voucher set. There are 8 steps to complete. ",-1),t("div",{class:"mt-8"}," The following icons are used: ",-1)]))),e[24]||(e[24]=ce('<ul class="mt-6 italic space-y-4"><li class="flex gap-x-1"><svg class="size-6 text-green-500 fill-green-100" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="not-italic font-semibold">Complete</span> ‐ You have met the requirements for this section </li><li class="flex gap-x-1"><svg class="size-6 text-orange-500 fill-orange-100" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="not-italic font-semibold">Warning</span> ‐ This section is not required, so please double check the default answer </li><li class="flex gap-x-1"><svg class="size-6 text-red-500 fill-red-100" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="not-italic font-semibold">Incomplete</span> ‐ You have not met the requirements for this section </li></ul>',1)),t("div",ke,[E.value?m("",!0):(s(),V(Y,{key:0,onClick:e[0]||(e[0]=o=>re())},{default:g(()=>e[23]||(e[23]=[r(" Get started ")])),_:1}))])])]),E.value?(s(),l("div",ye,[t("div",be,[t("div",Ce,[e[28]||(e[28]=r(" Is this a test voucher set? ")),i.value.is_test?(s(),l("svg",Me,e[26]||(e[26]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",Se,e[27]||(e[27]=[t("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),e[30]||(e[30]=t("div",{class:"my-8"}," A test voucher set is for when you want to test the process, but the vouchers are not real. ",-1)),t("div",Te,[t("label",je,[x(t("input",{id:"voucherSet.is_test","onUpdate:modelValue":e[1]||(e[1]=o=>i.value.is_test=o),class:"mr-2",type:"checkbox"},null,512),[[me,i.value.is_test]]),e[29]||(e[29]=r(" YES - this is a test voucher set. "))])])]),t("div",Ze,[t("div",Be,[e[33]||(e[33]=r(" The service team ")),h.value?(s(),l("svg",Ve,e[31]||(e[31]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",$e,e[32]||(e[32]=[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),e[34]||(e[34]=t("div",{class:"my-8"}," Which service team are you allocating this voucher set to? ",-1)),h.value?(s(),l("div",He,[r(" Selected service team: "+a(h.value.name)+" ",1),h.value?(s(),l("span",{key:0,class:"text-red-500 text-xs underline hover:cursor-pointer ml-2",onClick:e[3]||(e[3]=o=>ie())}," Remove ")):m("",!0)])):(s(),l("div",ze,[t("label",Ee,[x(t("input",{id:"service-team-search","onUpdate:modelValue":e[2]||(e[2]=o=>S.value=o),class:"block w-1/2 md:w-1/3 mt-1",placeholder:"Filter your service teams..",type:"search"},null,512),[[b,S.value]])]),t("div",Le,[(s(!0),l(w,null,_(M.value,o=>(s(),V(N,{onClick:c=>ne(o.service_team)},{default:g(()=>[r(a(o.service_team.name),1)]),_:2},1032,["onClick"]))),256))])]))]),t("div",Fe,[t("div",Ue,[e[37]||(e[37]=r(" The merchant team ")),u.value.length?(s(),l("svg",Ie,e[35]||(e[35]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",Ne,e[36]||(e[36]=[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),e[39]||(e[39]=t("div",{class:"my-8"}," Which merchant team(s) are you assigning this voucher set to? ",-1)),t("div",null,[t("label",Re,[x(t("input",{id:"merchant-team-search","onUpdate:modelValue":e[4]||(e[4]=o=>j.value=o),class:"block w-1/2 md:w-1/3 mt-1",placeholder:"Filter merchant teams..",type:"search"},null,512),[[b,j.value]])]),t("div",De,[(s(!0),l(w,null,_(F.value,o=>(s(),V(N,{onClick:c=>le(o.merchant_team)},{default:g(()=>[r(a(o.merchant_team.name),1)]),_:2},1032,["onClick"]))),256))])]),u.value.length?(s(),l("div",qe,[e[38]||(e[38]=r(" Selected merchant team(s): ")),t("div",null,[(s(!0),l(w,null,_(u.value,(o,c)=>(s(),l("div",Ae,[r(a(o.name)+" ",1),t("span",{class:"text-red-500 text-xs underline hover:cursor-pointer ml-2",onClick:D=>ae(c)}," Remove ",8,Oe)]))),256))])])):m("",!0)]),t("div",We,[t("div",Ye,[e[42]||(e[42]=r(" The funding team ")),p.value?(s(),l("svg",Pe,e[40]||(e[40]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",Qe,e[41]||(e[41]=[t("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),e[44]||(e[44]=t("div",{class:"my-8"}," Is this voucher set funded by anyone? If so, please nominate the team here. ",-1)),p.value?(s(),l("div",Xe,[r(" Selected funding team: "+a(p.value.name)+" ",1),p.value?(s(),l("span",{key:0,class:"text-red-500 text-xs underline hover:cursor-pointer ml-2",onClick:e[6]||(e[6]=o=>p.value="")}," Remove ")):m("",!0)])):(s(),l("div",Ge,[t("label",Je,[e[43]||(e[43]=r(" Search for a funding team ")),x(t("input",{id:"merchant-team-search","onUpdate:modelValue":e[5]||(e[5]=o=>C.value=o),class:"block w-1/2 md:w-1/3",type:"search"},null,512),[[b,C.value]])]),t("div",Ke,[(s(!0),l(w,null,_(L.value,o=>(s(),V(N,{onClick:c=>oe(o)},{default:g(()=>[r(a(o.name),1)]),_:2},1032,["onClick"]))),256))])]))]),t("div",et,[t("div",tt,[e[47]||(e[47]=r(" Total value ")),i.value.total_set_value>0?(s(),l("svg",st,e[45]||(e[45]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",ot,e[46]||(e[46]=[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),t("div",lt,[t("label",nt,[e[48]||(e[48]=r(" What will the total value of the voucher set be, in ")),t("span",it,a((y=T(k).auth.teamCountry)==null?void 0:y.currency_code),1),e[49]||(e[49]=r("? ")),x(t("input",{id:"voucherSet.total_set_value","onUpdate:modelValue":e[7]||(e[7]=o=>i.value.total_set_value=o),class:"block mt-2",type:"number"},null,512),[[b,i.value.total_set_value]])])])]),t("div",rt,[t("div",at,[e[53]||(e[53]=r(" Denominations ")),v()===0?(s(),l("svg",dt,e[50]||(e[50]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):v()>0?(s(),l("svg",ut,e[51]||(e[51]=[t("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",vt,e[52]||(e[52]=[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),t("div",ct,[t("div",mt,[t("div",null," Available to assign: "+a(i.value.total_set_value)+" "+a((O=T(k).auth.teamCountry)==null?void 0:O.currency_code),1),t("div",{class:W({"text-red":v()<0})}," Remaining: "+a(v()),3),t("div",null,[(s(!0),l(w,null,_(i.value.denominations,(o,c)=>{var D;return s(),l("div",pt,[t("div",null,[e[54]||(e[54]=t("div",{class:"text-xs"}," Create ",-1)),t("div",null,[x(t("input",{"onUpdate:modelValue":I=>o.number=I,class:"border rounded p-1",type:"number"},null,8,ht),[[b,o.number]])])]),t("div",ft,[t("div",xt," of "+a((D=T(k).auth.teamCountry)==null?void 0:D.currency_code),1),t("div",null,[x(t("input",{"onUpdate:modelValue":I=>o.value=I,class:"border rounded p-1",step:"1",type:"number"},null,8,wt),[[b,o.value]])])]),t("div",_t,[c!==0?(s(),l("button",{key:0,class:"text-red-500 text-xs underline hover:cursor-pointer ml-2",onClick:I=>J(c)},e[55]||(e[55]=[t("i",{class:"fa fa-times"},null,-1),r(" Remove ")]),8,gt)):m("",!0)])])}),256)),t("div",kt,[$(Y,{onClick:e[8]||(e[8]=o=>G())},{default:g(()=>e[56]||(e[56]=[r(" Add row "),t("i",{class:"fa fa-plus"},null,-1)])),_:1})])])]),t("div",yt,[e[57]||(e[57]=t("div",{class:"text-2xl"}," Total assigned: ",-1)),t("div",{class:W([{"text-green-500":v()>=0,"text-red-500":v()<0},"text-3xl mt-4"])},[r(a(A())+" ",1),t("div",bt," out of "+a(i.value.total_set_value),1)],2),v()<0?(s(),l("div",Ct," - over budget - ")):v()>0?(s(),l("div",Mt,a(v())+" remaining ",1)):(s(),l("div",St," Voucher fully allocated "))])])]),t("div",Tt,[t("div",jt,[e[60]||(e[60]=r(" Expiration ")),i.value.expires_at?(s(),l("svg",Zt,e[58]||(e[58]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",Bt,e[59]||(e[59]=[t("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),t("div",Vt,[e[62]||(e[62]=r(" When will these vouchers expire? ")),t("div",$t,[t("label",zt,[e[61]||(e[61]=r(" Select expiry date ")),x(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>i.value.expires_at=o),class:"rounded",type:"date"},null,512),[[b,i.value.expires_at]])])]),t("div",Et,[i.value.expires_at?(s(),l("div",Lt,[r(" Selected expiry date: "+a(i.value.expires_at)+" ",1),t("span",{class:"text-red-500 text-xs underline hover:cursor-pointer ml-2",onClick:e[10]||(e[10]=o=>i.value.expires_at="")}," Remove ")])):(s(),l("div",Ht," Not selecting an expiry date will mean vouchers stay valid forever. "))])])]),t("div",Ft,[t("div",Ut,[e[65]||(e[65]=r(" Type ")),i.value.voucher_set_type?(s(),l("svg",It,e[63]||(e[63]=[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(s(),l("svg",Nt,e[64]||(e[64]=[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),t("div",Rt,[t("label",Dt,[e[67]||(e[67]=r(" Choose the type of the voucher set ")),x(t("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>i.value.voucher_set_type=o),class:"ml-2"},[e[66]||(e[66]=t("option",{value:""},"Select a type",-1)),(s(!0),l(w,null,_(T(k).voucherSetTypes,o=>(s(),l("option",{value:o},a(o),9,qt))),256))],512),[[pe,i.value.voucher_set_type]])])])]),t("div",At,[t("div",Ot,[e[70]||(e[70]=r(" Review ")),t("div",Wt,[z.value?(s(),l("div",Yt,e[68]||(e[68]=[r(" You have completed all the required sections "),t("svg",{class:"size-6 text-green-500 fill-green-100",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(s(),l("div",Pt,e[69]||(e[69]=[r(" You have required sections that still need completing "),t("svg",{class:"size-6 fill-red-100 ml-2",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])))])]),e[81]||(e[81]=t("div",{class:"my-8"},[t("div",null," Please review the following details for your voucher set. ")],-1)),t("div",Qt,[t("ul",Gt,[t("li",null,[e[71]||(e[71]=r(" The voucher is ")),t("span",Jt,a(i.value.is_test?"a test":"not a test"),1),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[12]||(e[12]=o=>f("testSection"))}," Edit ")]),t("li",null,[r(" It has "+a(h.value?"":" not yet ")+" been allocated to service team ",1),h.value?(s(),l("span",Kt,a(h.value.name),1)):m("",!0),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[13]||(e[13]=o=>f("serviceTeamSection"))}," Edit ")]),t("li",null,[r(" It has "+a(u.value.length?"":" not yet ")+" been assigned to a merchant team(s) ",1),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[14]||(e[14]=o=>f("merchantTeamSection"))}," Edit "),(s(!0),l(w,null,_(u.value,o=>(s(),l("div",{key:o.id,class:"my-1 font-bold"},a(o.name),1))),128))]),t("li",null,[e[72]||(e[72]=r(" It has ")),t("span",Xt,a(p.value?"":" not "),1),e[73]||(e[73]=r(" been associated to funding team ")),p.value?(s(),l("span",es,a(p.value.name),1)):m("",!0),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[15]||(e[15]=o=>f("fundingTeamSection"))}," Edit ")]),t("li",null,[e[74]||(e[74]=r(" It has a total value of: ")),t("span",ts,a(i.value.total_set_value),1),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[16]||(e[16]=o=>f("totalValueSection"))}," Edit ")]),t("li",null,[e[75]||(e[75]=r(" Divided into denominations of: ")),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[17]||(e[17]=o=>f("denominationsSection"))}," Edit "),t("ul",null,[(s(!0),l(w,null,_(i.value.denominations,o=>{var c;return s(),l("li",ss,a(o.number)+" "+a(o.number===1?"unit":"units")+" of "+a(o.value)+" "+a((c=T(k).auth.teamCountry)==null?void 0:c.currency_code),1)}),256))])]),t("li",null,[e[76]||(e[76]=r(" The voucher ")),t("span",os,a(i.value.expires_at?"expires at "+i.value.expires_at:"does not expire"),1),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[18]||(e[18]=o=>f("expirationSection"))}," Edit ")]),t("li",ls,[i.value.voucher_set_type?(s(),l("div",ns,[e[77]||(e[77]=r(" Has a type of ")),t("span",is,a(i.value.voucher_set_type),1),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[19]||(e[19]=o=>f("expirationSection"))}," Edit ")])):(s(),l("div",rs,[e[78]||(e[78]=r(" Does ")),e[79]||(e[79]=t("span",{class:"font-bold"},"not yet have a type",-1)),t("button",{class:"text-xs text-blue-500 ml-2 underline",onClick:e[20]||(e[20]=o=>f("expirationSection"))}," Edit ")]))])])]),t("div",as,[z.value?(s(),V(N,{key:0,onClick:e[21]||(e[21]=o=>Q())},{default:g(()=>e[80]||(e[80]=[r(" Generate! ")])),_:1})):m("",!0)])])])):m("",!0)])])}}},xs={__name:"VoucherSetNew",setup(P){return(k,z)=>(s(),l(w,null,[$(T(he),{title:"Vouchers"}),$(de,null,{header:g(()=>[$(fe)]),default:g(()=>[$(ds)]),_:1})],64))}};export{xs as default};
