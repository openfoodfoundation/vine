import{y as Ue,r as L,q as $e,z as Be,o as we,A as Me,B as Q,C as qe,c as x,a as D,d as s,D as ce,E as ve,e as R,b as g,F as Ne,g as We,w as y,f as b,t as J,u as Ye,P as Ge,j as oe,k as F,s as k,n as pe}from"./app-BnPtLwbX.js";import{_ as He}from"./TextInput-BHwDKyWl.js";import{_ as w}from"./InputLabel-xPiedyrX.js";import{P as Ke}from"./PrimaryButton-C1b6dLWA.js";import{S as te}from"./AuthenticatedLayout-C1uiwIH8.js";import{_ as Xe}from"./SecondaryButton-TM6_ogYb.js";import{D as me}from"./DangerButton-BAgJ1DGm.js";import{_ as Qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Je}from"./Checkbox-C6HDyeNB.js";function N(t,r,e,i){function a(n){return n instanceof e?n:new e(function(f){f(n)})}return new(e||(e=Promise))(function(n,f){function p(c){try{l(i.next(c))}catch(m){f(m)}}function h(c){try{l(i.throw(c))}catch(m){f(m)}}function l(c){c.done?n(c.value):a(c.value).then(p,h)}l((i=i.apply(t,r||[])).next())})}function W(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(l){return function(c){return h([l,c])}}function h(l){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,l[0]&&(e=0)),e;)try{if(i=1,a&&(n=l[0]&2?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,a=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(c){l=[6,c],a=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ze(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var i=e.call(t),a,n=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)n.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(f)throw f.error}}return n}function et(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(Ze(arguments[r]));return t}var tt=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function ne(t,r){var e=rt(t);if(typeof e.path!="string"){var i=t.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof r=="string"?r:typeof i=="string"&&i.length>0?i:t.name,writable:!1,configurable:!1,enumerable:!0})}return e}function rt(t){var r=t.name,e=r&&r.lastIndexOf(".")!==-1;if(e&&!t.type){var i=r.split(".").pop().toLowerCase(),a=tt.get(i);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}var nt=[".DS_Store","Thumbs.db"];function ot(t){return N(this,void 0,void 0,function(){return W(this,function(r){return[2,at(t)&&t.dataTransfer?ut(t.dataTransfer,t.type):it(t)]})})}function at(t){return!!t.dataTransfer}function it(t){var r=lt(t.target)?t.target.files?ae(t.target.files):[]:[];return r.map(function(e){return ne(e)})}function lt(t){return t!==null}function ut(t,r){return N(this,void 0,void 0,function(){var e,i;return W(this,function(a){switch(a.label){case 0:return t.items?(e=ae(t.items).filter(function(n){return n.kind==="file"}),r!=="drop"?[2,e]:[4,Promise.all(e.map(st))]):[3,2];case 1:return i=a.sent(),[2,ge(Ee(i))];case 2:return[2,ge(ae(t.files).map(function(n){return ne(n)}))]}})})}function ge(t){return t.filter(function(r){return nt.indexOf(r.name)===-1})}function ae(t){for(var r=[],e=0;e<t.length;e++){var i=t[e];r.push(i)}return r}function st(t){if(typeof t.webkitGetAsEntry!="function")return he(t);var r=t.webkitGetAsEntry();return r&&r.isDirectory?Fe(r):he(t)}function Ee(t){return t.reduce(function(r,e){return et(r,Array.isArray(e)?Ee(e):[e])},[])}function he(t){var r=t.getAsFile();if(!r)return Promise.reject(t+" is not a File");var e=ne(r);return Promise.resolve(e)}function dt(t){return N(this,void 0,void 0,function(){return W(this,function(r){return[2,t.isDirectory?Fe(t):ft(t)]})})}function Fe(t){var r=t.createReader();return new Promise(function(e,i){var a=[];function n(){var f=this;r.readEntries(function(p){return N(f,void 0,void 0,function(){var h,l,c;return W(this,function(m){switch(m.label){case 0:if(p.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return h=m.sent(),e(h),[3,4];case 3:return l=m.sent(),i(l),[3,4];case 4:return[3,6];case 5:c=Promise.all(p.map(dt)),a.push(c),n(),m.label=6;case 6:return[2]}})})},function(p){i(p)})}n()})}function ft(t){return N(this,void 0,void 0,function(){return W(this,function(r){return[2,new Promise(function(e,i){t.file(function(a){var n=ne(a,t.fullPath);e(n)},function(a){i(a)})})]})})}var Z={},_e;function ct(){return _e||(_e=1,Z.__esModule=!0,Z.default=function(t,r){if(t&&r){var e=Array.isArray(r)?r:r.split(",");if(e.length===0)return!0;var i=t.name||"",a=(t.type||"").toLowerCase(),n=a.replace(/\/.*$/,"");return e.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?i.toLowerCase().endsWith(p):p.endsWith("/*")?n===p.replace(/\/.*$/,""):a===p})}return!0}),Z}var vt=ct();const ke=Ue(vt);var S=function(){return S=Object.assign||function(r){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},S.apply(this,arguments)};function ye(t,r){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)r.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(e[i[a]]=t[i[a]]);return e}function pt(t,r,e,i){function a(n){return n instanceof e?n:new e(function(f){f(n)})}return new(e||(e=Promise))(function(n,f){function p(c){try{l(i.next(c))}catch(m){f(m)}}function h(c){try{l(i.throw(c))}catch(m){f(m)}}function l(c){c.done?n(c.value):a(c.value).then(p,h)}l((i=i.apply(t,[])).next())})}function mt(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(l){return function(c){return h([l,c])}}function h(l){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,l[0]&&(e=0)),e;)try{if(i=1,a&&(n=l[0]&2?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,a=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(c){l=[6,c],a=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ie(t,r,e){if(e||arguments.length===2)for(var i=0,a=r.length,n;i<a;i++)(n||!(i in r))&&(n||(n=Array.prototype.slice.call(r,0,i)),n[i]=r[i]);return t.concat(n||Array.prototype.slice.call(r))}function gt(t){return t.includes("MSIE")||t.includes("Trident/")}function ht(t){return t.includes("Edge/")}function _t(t){return t===void 0&&(t=window.navigator.userAgent),gt(t)||ht(t)}function be(t){t.preventDefault()}function ee(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!t.target&&!!t.target.files}function re(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}var yt="file-invalid-type",bt="file-too-large",xt="file-too-small",Dt="too-many-files",wt={code:Dt,message:"Too many files"},Et=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:yt,message:"File type must be ".concat(r)}};function q(t){return t!=null}var Ft=ke.default,kt=Ft||ke;function Ce(t,r){var e=t.type==="application/x-moz-file"||kt(t,r);return[e,e?null:Et(r)]}var xe=function(t){return{code:bt,message:"File is larger than ".concat(t," bytes")}},De=function(t){return{code:xt,message:"File is smaller than ".concat(t," bytes")}};function Pe(t,r,e){if(q(t.size)&&t.size)if(q(r)&&q(e)){if(t.size>e)return[!1,xe(e)];if(t.size<r)return[!1,De(r)]}else{if(q(r)&&t.size<r)return[!1,De(r)];if(q(e)&&t.size>e)return[!1,xe(e)]}return[!0,null]}function j(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return t.some(function(n){return!re(e)&&n&&n.apply(void 0,ie([e],i,!1)),re(e)})}}function Ct(t){var r=t.files,e=t.accept,i=t.minSize,a=t.maxSize,n=t.multiple,f=t.maxFiles;return!n&&r.length>1||n&&f>=1&&r.length>f?!1:r.every(function(p){var h=Ce(p,e)[0],l=Pe(p,i,a)[0];return h&&l})}var Pt={disabled:!1,getFilesFromEvent:ot,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};function St(t){t===void 0&&(t={});var r=L(S(S({},Pt),t));$e(function(){return S({},t)},function(u){r.value=S(S({},r.value),u)});var e=L(),i=L(),a=Be({isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]}),n=function(){i.value&&(a.isFileDialogActive=!0,i.value.value="",i.value.click())},f=function(){var u=r.value.onFileDialogCancel;a.isFileDialogActive&&setTimeout(function(){if(i.value){var v=i.value.files;v&&!v.length&&(a.isFileDialogActive=!1,typeof u=="function"&&u())}},300)};function p(){a.isFocused=!0}function h(){a.isFocused=!1}function l(){var u=r.value.noClick;u||(_t()?setTimeout(n,0):n())}var c=L([]),m=function(u){if(e.value){var v=e.value.$el||e.value;v.contains(u.target)||(u.preventDefault(),c.value=[])}};we(function(){window.addEventListener("focus",f,!1);var u=r.value.preventDropOnDocument;u&&(document.addEventListener("dragover",be,!1),document.addEventListener("drop",m,!1))}),Me(function(){window.removeEventListener("focus",f,!1);var u=r.value.preventDropOnDocument;u&&(document.removeEventListener("dragover",be),document.removeEventListener("drop",m))});function E(u){var v=r.value.noDragEventsBubbling;v&&u.stopPropagation()}function U(u){return pt(this,void 0,void 0,function(){var v,P,O,T,A;return mt(this,function(V){switch(V.label){case 0:return v=r.value,P=v.getFilesFromEvent,O=v.noDragEventsBubbling,T=v.onDragEnter,u.preventDefault(),E(u),c.value=ie(ie([],c.value,!0),[u.target],!1),ee(u)?P?[4,P(u)]:[2]:[3,2];case 1:if(A=V.sent(),A||(A=[]),re(u)&&!O)return[2];a.draggedFiles=A,a.isDragActive=!0,T&&T(u),V.label=2;case 2:return[2]}})})}function _(u){var v=r.value.onDragOver;if(u.preventDefault(),E(u),u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return ee(u)&&v&&v(u),!1}function o(u){u.preventDefault(),E(u);var v=c.value.filter(function(T){if(!e.value)return!1;var A=e.value.$el||e.value;return A.contains(T)}),P=v.indexOf(u.target);if(P!==-1&&v.splice(P,1),c.value=v,!(v.length>0)){a.draggedFiles=[],a.isDragActive=!1;var O=r.value.onDragLeave;ee(u)&&O&&O(u)}}function C(u){u.preventDefault(),E(u),c.value=[];var v=r.value,P=v.getFilesFromEvent,O=v.noDragEventsBubbling,T=v.accept,A=v.minSize,V=v.maxSize,Y=v.multiple,G=v.maxFiles,H=v.onDrop,K=v.onDropRejected,X=v.onDropAccepted;if(ee(u)){if(!P)return;Promise.resolve(P(u)).then(function(Ae){if(!(re(u)&&!O)){var z=[],$=[];Ae.forEach(function(B){var de=Ce(B,T),Ie=de[0],ze=de[1],fe=Pe(B,A,V),je=fe[0],Le=fe[1];if(Ie&&je)z.push(B);else{var Ve=[ze,Le].filter(function(Re){return Re});$.push({file:B,errors:Ve})}}),(!Y&&z.length>1||Y&&G>=1&&z.length>G)&&(z.forEach(function(B){$.push({file:B,errors:[wt]})}),z.splice(0)),a.acceptedFiles=z,a.fileRejections=$,H&&H(z,$,u),$.length>0&&K&&K($,u),z.length>0&&X&&X(z,u)}})}a.isFileDialogActive=!1,a.isDragActive=!1,a.draggedFiles=[],a.acceptedFiles=[],a.fileRejections=[]}var I=function(u){return r.value.disabled?void 0:u},M=function(u){return r.value.noKeyboard?void 0:I(u)},d=function(u){return r.value.noDrag?void 0:I(u)},le=function(u){u===void 0&&(u={});var v=u.onFocus,P=u.onBlur,O=u.onClick,T=u.onDragEnter,A=u.onDragenter,V=u.onDragOver,Y=u.onDragover,G=u.onDragLeave,H=u.onDragleave,K=u.onDrop,X=ye(u,["onFocus","onBlur","onClick","onDragEnter","onDragenter","onDragOver","onDragover","onDragLeave","onDragleave","onDrop"]);return S(S({onFocus:M(j(v,p)),onBlur:M(j(P,h)),onClick:I(j(O,l)),onDragenter:d(j(T,A,U)),onDragover:d(j(V,Y,_)),onDragleave:d(j(G,H,o)),onDrop:d(j(K,C)),ref:e},!r.value.disabled&&!r.value.noKeyboard?{tabIndex:0}:{}),X)},Se=function(u){u.stopPropagation()};function Oe(u){u===void 0&&(u={});var v=u.onChange,P=u.onClick,O=ye(u,["onChange","onClick"]),T={accept:r.value.accept,multiple:r.value.multiple,style:"display: none",type:"file",onChange:I(j(v,C)),onClick:I(j(P,Se)),autoComplete:"off",tabIndex:-1,ref:i};return S(S({},T),O)}var ue=Q(function(){return a.draggedFiles?a.draggedFiles.length:0}),se=Q(function(){return ue.value>0&&Ct({files:a.draggedFiles,accept:r.value.accept,minSize:r.value.minSize,maxSize:r.value.maxSize,multiple:r.value.multiple,maxFiles:r.value.maxFiles})}),Te=Q(function(){return ue.value>0&&!se.value});return S(S({},qe(a)),{isDragAccept:se,isDragReject:Te,isFocused:Q(function(){return a.isFocused&&!r.value.disabled}),getRootProps:le,getInputProps:Oe,rootRef:e,inputRef:i,open:I(n)})}const Ot={props:{folder:{type:String,required:!0},visibility:{type:String,default:null},allowedFileTypes:String,uploadSuccessFunction:Function},setup(t,r){const e=h=>{let l={folder:t.folder,files:[]};const c=new FormData;for(var m=0;m<h.length;m++)c.append("files[]",h[m]),l.files.push(h[m]);c.append("folder",t.folder),c.append("returnFilePathOnly",t.folder),c.append("acceptedFileTypes",t.allowedFileTypes),axios.post("/admin/file-uploads",c,{headers:{"Content-Type":"multipart/form-data"}}).then(E=>{E.data.data&&r.emit("filesWereUploaded",E.data.data)}).catch(function(E){console.log(E),te.fire({icon:"error",title:"Oops!",text:E.response.data.meta.message})})};function i(h,l){var c,m,E,U;(m=(c=l[0])==null?void 0:c.errors[0])!=null&&m.message?te.fire({icon:"error",title:"Oops!",text:(U=(E=l[0])==null?void 0:E.errors[0])==null?void 0:U.message}):e(h)}let a={onDrop:i,maxFiles:1,accept:t.allowedFileTypes,multiple:0};const{getRootProps:n,getInputProps:f,...p}=St(a);return{getRootProps:n,getInputProps:f,...p}}},Tt={class:"border bg-gray-100 rounded p-8 text-center cursor-pointer hover:border-2 hover:border-dashed"},At={key:0},It={key:1};function zt(t,r,e,i,a,n){return D(),x("div",null,[s("div",ce(ve(i.getRootProps())),[s("input",ce(ve(i.getInputProps())),null,16),s("div",Tt,[t.isDragActive?(D(),x("p",At,"Drop the file here ...")):(D(),x("p",It,"Drag 'n' drop a files here, or click to select files"))])],16)])}const jt=Qe(Ot,[["render",zt]]),Lt={class:"flex flex-wrap justify-between container mx-auto"},Vt={class:"card-header flex justify-between items-center"},Rt={class:"text-lg font-bold flex justify-start items-center"},Ut={key:0},$t={key:1},Bt={key:0},Mt={key:0},qt={class:"border-b border-dotted py-4"},Nt={key:0,class:"mt-4"},Wt={class:"grid grid-cols-4 gap-2"},Yt={key:1},Gt={key:1},Ht={class:"border-b border-dotted py-4"},Kt={class:"flex justify-start items-center"},Xt={key:0,class:"border-b border-dotted py-4"},Qt={key:1},Jt={class:"border-b border-dotted py-4"},Zt={class:"flex justify-start items-center"},er={key:0,class:"text-xs italic"},tr={key:0,class:"py-4 border-b"},rr={class:"grid grid-cols-2 lg:grid-cols-4"},nr={class:"mb-4"},or={class:"mb-4"},ar={class:"mb-4"},ir={class:"mb-4"},lr={class:"mb-4"},ur={class:"mb-4"},sr={class:"mb-4"},dr={class:"mb-4"},fr={class:"mb-4"},cr={class:"mb-4"},vr={class:"mb-4"},pr={class:"mb-4"},mr={class:"mb-4"},gr={class:"mb-4"},hr={class:"mb-4"},_r={class:"py-4 border-b"},yr={for:"archived"},br={key:0},xr={class:"flex items-center justify-start mt-4"},Dr={key:0,class:"card w-full xl:w-1/3"},wr=["src"],Ir={__name:"AdminTeamVoucherTemplateEditComponent",props:{id:{type:Number,required:!1}},setup(t){const r=t,e=L({team_id:"",voucher_template_path:"",voucher_example_template_path:"",overlay_font_path:"fonts/Roboto-Regular.ttf",voucher_qr_size_px:900,voucher_qr_x:1e3,voucher_qr_y:250,voucher_code_size_px:100,voucher_code_x:1e3,voucher_code_y:1700,voucher_code_prefix:"Voucher Code: ",voucher_expiry_size_px:100,voucher_expiry_x:1e3,voucher_expiry_y:1530,voucher_expiry_prefix:"Expiry: ",voucher_value_size_px:300,voucher_value_x:2100,voucher_value_y:500,voucher_value_prefix:"$"}),i=L(""),a=L({}),n=L({}),f=L(!1);function p(){axios.get("/admin/teams?where[]=name,like,*"+i.value+"*&limit=100").then(_=>{a.value=_.data.data}).catch(_=>{console.log(_)})}function h(_){e.value.team_id=_.id,n.value=_}function l(){let _="post",o="/admin/team-voucher-templates";r.id&&(_="put",o="/admin/team-voucher-templates/"+r.id),e.value.archive=f.value,axios[_](o,e.value).then(C=>{te.fire({title:"Success!",icon:"success",timer:1e3}).then(()=>{window.location.href="/admin/team-voucher-template/"+C.data.data.id})}).catch(C=>{console.log(C)})}function c(){axios.get("/admin/team-voucher-templates/"+r.id+"?cached=false&relations=team").then(_=>{e.value=_.data.data,n.value=e.value.team,m()}).catch(_=>{console.log(_)})}function m(){e.value.archived_at?f.value=!0:f.value=!1}function E(){const _=new URLSearchParams(window.location.search);if(_.has("teamId")){const o=_.get("teamId");axios.get("/admin/teams/"+o).then(C=>{n.value=C.data.data,e.value.team_id=C.data.data.id,m()}).catch(C=>{console.log(C),te.fire({title:"Oops..!",icon:"error",text:"I couldn't locate team with ID "+o+". Please start from scratch."})})}}we(_=>{r.id?c():E()});function U(_){e.value.voucher_template_path=_[0]}return(_,o)=>{var C,I,M;return D(),x("div",Lt,[s("div",{class:pe(["card",{"w-full xl:w-2/3":e.value.example_template_image_url}])},[s("div",Vt,[s("div",Rt,[(C=e.value)!=null&&C.id?(D(),x("div",Ut,"Edit")):(D(),x("div",$t,"New")),o[21]||(o[21]=s("div",{class:"ml-1"}," Voucher Template ",-1))]),e.value.archived_at?(D(),x("div",Bt,o[22]||(o[22]=[s("div",{class:"border-4 rounded-lg border-dashed p-2 px-8 border-red-300 text-red-300 text-xl font-bold"}," Archived ",-1)]))):R("",!0)]),e.value.team_id?(D(),x("div",Gt,[s("div",Ht,[o[25]||(o[25]=s("div",{class:"text-sm font-bold"}," Selected Team ",-1)),s("div",Kt,[g(Ye(Ge),{href:"/admin/team/"+e.value.team_id},{default:y(()=>{var d;return[b(J((d=n.value)==null?void 0:d.name),1)]}),_:1},8,["href"]),g(me,{class:"ml-2 !p-1 !px-2",onClick:o[2]||(o[2]=oe(d=>e.value.team_id="",["prevent"]))},{default:y(()=>o[24]||(o[24]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)])),_:1})])]),s("div",null,[e.value.voucher_template_path?(D(),x("div",Qt,[s("div",Jt,[o[28]||(o[28]=s("div",{class:"text-sm font-bold"}," Selected Template ",-1)),s("div",Zt,[b(J((I=e.value)==null?void 0:I.voucher_template_path)+" ",1),g(me,{class:"ml-2 !p-1 !px-2",onClick:o[3]||(o[3]=oe(d=>e.value.voucher_template_path="",["prevent"]))},{default:y(()=>o[27]||(o[27]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)])),_:1})]),e.value.voucher_example_template_path?R("",!0):(D(),x("div",er," Example image will show after we have saved/re-saved. "))])])):(D(),x("div",Xt,[o[26]||(o[26]=s("div",null," Next, Upload a template (PNG only): ",-1)),g(jt,{onFilesWereUploaded:U,folder:"/teams/"+e.value.team_id+"/voucher-templates","allowed-file-types":"image/png"},null,8,["folder"])]))]),e.value.voucher_example_template_path?(D(),x("div",tr,[o[45]||(o[45]=s("div",{class:"text-sm font-bold mb-4"}," Template Positions ",-1)),s("div",rr,[s("div",nr,[g(w,null,{default:y(()=>o[29]||(o[29]=[b(" QR Size ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=d=>e.value.voucher_qr_size_px=d)},null,512),[[k,e.value.voucher_qr_size_px,void 0,{number:!0}]])]),s("div",or,[g(w,null,{default:y(()=>o[30]||(o[30]=[b(" QR Coords: X Position ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=d=>e.value.voucher_qr_x=d)},null,512),[[k,e.value.voucher_qr_x,void 0,{number:!0}]])]),s("div",ar,[g(w,null,{default:y(()=>o[31]||(o[31]=[b(" QR Coords: Y Position ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=d=>e.value.voucher_qr_y=d)},null,512),[[k,e.value.voucher_qr_y,void 0,{number:!0}]])]),o[44]||(o[44]=s("div",{class:"hidden lg:inline"},null,-1)),s("div",ir,[g(w,null,{default:y(()=>o[32]||(o[32]=[b(" Voucher Code: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=d=>e.value.voucher_code_size_px=d)},null,512),[[k,e.value.voucher_code_size_px,void 0,{number:!0}]])]),s("div",lr,[g(w,null,{default:y(()=>o[33]||(o[33]=[b(" Code Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=d=>e.value.voucher_code_x=d)},null,512),[[k,e.value.voucher_code_x,void 0,{number:!0}]])]),s("div",ur,[g(w,null,{default:y(()=>o[34]||(o[34]=[b(" Code Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[9]||(o[9]=d=>e.value.voucher_code_y=d)},null,512),[[k,e.value.voucher_code_y,void 0,{number:!0}]])]),s("div",sr,[g(w,null,{default:y(()=>o[35]||(o[35]=[b(" Code Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[10]||(o[10]=d=>e.value.voucher_code_prefix=d)},null,512),[[k,e.value.voucher_code_prefix]])]),s("div",dr,[g(w,null,{default:y(()=>o[36]||(o[36]=[b(" Voucher Expiry: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=d=>e.value.voucher_expiry_size_px=d)},null,512),[[k,e.value.voucher_expiry_size_px,void 0,{number:!0}]])]),s("div",fr,[g(w,null,{default:y(()=>o[37]||(o[37]=[b(" Expiry Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=d=>e.value.voucher_expiry_x=d)},null,512),[[k,e.value.voucher_expiry_x,void 0,{number:!0}]])]),s("div",cr,[g(w,null,{default:y(()=>o[38]||(o[38]=[b(" Expiry Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[13]||(o[13]=d=>e.value.voucher_expiry_y=d)},null,512),[[k,e.value.voucher_expiry_y,void 0,{number:!0}]])]),s("div",vr,[g(w,null,{default:y(()=>o[39]||(o[39]=[b(" Expiry Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[14]||(o[14]=d=>e.value.voucher_expiry_prefix=d)},null,512),[[k,e.value.voucher_expiry_prefix]])]),s("div",pr,[g(w,null,{default:y(()=>o[40]||(o[40]=[b(" Voucher Value: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[15]||(o[15]=d=>e.value.voucher_value_size_px=d)},null,512),[[k,e.value.voucher_value_size_px,void 0,{number:!0}]])]),s("div",mr,[g(w,null,{default:y(()=>o[41]||(o[41]=[b(" Value Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=d=>e.value.voucher_value_x=d)},null,512),[[k,e.value.voucher_value_x,void 0,{number:!0}]])]),s("div",gr,[g(w,null,{default:y(()=>o[42]||(o[42]=[b(" Value Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=d=>e.value.voucher_value_y=d)},null,512),[[k,e.value.voucher_value_y,void 0,{number:!0}]])]),s("div",hr,[g(w,null,{default:y(()=>o[43]||(o[43]=[b(" Value Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[18]||(o[18]=d=>e.value.voucher_value_prefix=d)},null,512),[[k,e.value.voucher_value_prefix]])])])])):R("",!0)])):(D(),x("div",Mt,[s("div",qt,[s("div",null,[g(w,{for:"name",value:"First, Select A Team.."}),g(He,{onKeyup:o[0]||(o[0]=d=>p()),modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=d=>i.value=d),class:"mt-1 block w-full",placeholder:"Search team by name..",type:"search"},null,8,["modelValue"])]),i.value.length>0&&a.value.total>0?(D(),x("div",Nt,[s("div",Wt,[(D(!0),x(Ne,null,We(a.value.data,d=>(D(),x("div",null,[g(Xe,{class:"truncate w-full py-2 flex justify-center",onClick:le=>h(d)},{default:y(()=>[b(J(d==null?void 0:d.name),1)]),_:2},1032,["onClick"])]))),256))])])):R("",!0),i.value.length>0&&a.value.total===0?(D(),x("div",Yt,o[23]||(o[23]=[s("div",{class:"text-red-500 text-sm mt-4 cursor-pointer hover:underline"}," No teams found. ",-1)]))):R("",!0)])])),s("div",_r,[g(w,{for:"archived",value:"Archive / Unarchive this template"}),s("label",yr,[g(Je,{id:"archived",checked:f.value,modelValue:f.value,"onUpdate:modelValue":o[19]||(o[19]=d=>f.value=d)},null,8,["checked","modelValue"]),o[46]||(o[46]=s("span",{class:"ml-2"}," Archived ",-1)),(M=e.value)!=null&&M.archived_at?(D(),x("span",br,"@ "+J(e.value.archived_at),1)):R("",!0)])]),s("div",xr,[g(Ke,{onClick:o[20]||(o[20]=oe(d=>l(),["prevent"])),class:pe(["",{"opacity-25":!e.value.voucher_template_path}]),disabled:!e.value.voucher_template_path},{default:y(()=>o[47]||(o[47]=[b(" Submit ")])),_:1},8,["class","disabled"])])],2),e.value.example_template_image_url?(D(),x("div",Dr,[o[48]||(o[48]=s("div",{class:"card-header"},[s("div",{class:"text-lg font-bold"}," Preview ")],-1)),s("img",{src:e.value.example_template_image_url,alt:"",class:"border rounded w-full"},null,8,wr)])):R("",!0)])}}};export{Ir as _};
