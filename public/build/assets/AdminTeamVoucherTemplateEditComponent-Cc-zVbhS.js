import{r as j,s as Ve,x as Re,o as xe,y as Ue,z as Q,A as Be,a as x,b as D,e as s,B as ve,C as ce,h as R,d as g,F as $e,j as Me,w as _,f as b,t as J,u as Ne,i as qe,m as ne,p as F,D as k,n as oe}from"./app-Be3sEMEx.js";import{_ as We}from"./TextInput-9uIXZfe3.js";import{_ as w}from"./InputLabel-BVgFObbK.js";import{P as Ye}from"./PrimaryButton-Diou51hd.js";import{S as ee}from"./AuthenticatedLayout-CIjOjlEx.js";import{_ as Ge}from"./SecondaryButton-D8BO-Wbm.js";import{D as pe}from"./DangerButton-BBrsjGnV.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ke}from"./Checkbox-CymteuG9.js";function q(t,r,e,i){function a(n){return n instanceof e?n:new e(function(f){f(n)})}return new(e||(e=Promise))(function(n,f){function p(v){try{l(i.next(v))}catch(m){f(m)}}function y(v){try{l(i.throw(v))}catch(m){f(m)}}function l(v){v.done?n(v.value):a(v.value).then(p,y)}l((i=i.apply(t,r||[])).next())})}function W(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(l){return function(v){return y([l,v])}}function y(l){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,l[0]&&(e=0)),e;)try{if(i=1,a&&(n=l[0]&2?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,a=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(v){l=[6,v],a=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xe(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var i=e.call(t),a,n=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)n.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(f)throw f.error}}return n}function Qe(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(Xe(arguments[r]));return t}var Je=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function re(t,r){var e=Ze(t);if(typeof e.path!="string"){var i=t.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof r=="string"?r:typeof i=="string"&&i.length>0?i:t.name,writable:!1,configurable:!1,enumerable:!0})}return e}function Ze(t){var r=t.name,e=r&&r.lastIndexOf(".")!==-1;if(e&&!t.type){var i=r.split(".").pop().toLowerCase(),a=Je.get(i);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}var et=[".DS_Store","Thumbs.db"];function tt(t){return q(this,void 0,void 0,function(){return W(this,function(r){return[2,rt(t)&&t.dataTransfer?at(t.dataTransfer,t.type):nt(t)]})})}function rt(t){return!!t.dataTransfer}function nt(t){var r=ot(t.target)?t.target.files?ae(t.target.files):[]:[];return r.map(function(e){return re(e)})}function ot(t){return t!==null}function at(t,r){return q(this,void 0,void 0,function(){var e,i;return W(this,function(a){switch(a.label){case 0:return t.items?(e=ae(t.items).filter(function(n){return n.kind==="file"}),r!=="drop"?[2,e]:[4,Promise.all(e.map(it))]):[3,2];case 1:return i=a.sent(),[2,me(De(i))];case 2:return[2,me(ae(t.files).map(function(n){return re(n)}))]}})})}function me(t){return t.filter(function(r){return et.indexOf(r.name)===-1})}function ae(t){for(var r=[],e=0;e<t.length;e++){var i=t[e];r.push(i)}return r}function it(t){if(typeof t.webkitGetAsEntry!="function")return ge(t);var r=t.webkitGetAsEntry();return r&&r.isDirectory?we(r):ge(t)}function De(t){return t.reduce(function(r,e){return Qe(r,Array.isArray(e)?De(e):[e])},[])}function ge(t){var r=t.getAsFile();if(!r)return Promise.reject(t+" is not a File");var e=re(r);return Promise.resolve(e)}function lt(t){return q(this,void 0,void 0,function(){return W(this,function(r){return[2,t.isDirectory?we(t):ut(t)]})})}function we(t){var r=t.createReader();return new Promise(function(e,i){var a=[];function n(){var f=this;r.readEntries(function(p){return q(f,void 0,void 0,function(){var y,l,v;return W(this,function(m){switch(m.label){case 0:if(p.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return y=m.sent(),e(y),[3,4];case 3:return l=m.sent(),i(l),[3,4];case 4:return[3,6];case 5:v=Promise.all(p.map(lt)),a.push(v),n(),m.label=6;case 6:return[2]}})})},function(p){i(p)})}n()})}function ut(t){return q(this,void 0,void 0,function(){return W(this,function(r){return[2,new Promise(function(e,i){t.file(function(a){var n=re(a,t.fullPath);e(n)},function(a){i(a)})})]})})}var Ee=function(t,r){if(t&&r){var e=Array.isArray(r)?r:r.split(","),i=t.name||"",a=(t.type||"").toLowerCase(),n=a.replace(/\/.*$/,"");return e.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?i.toLowerCase().endsWith(p):p.endsWith("/*")?n===p.replace(/\/.*$/,""):a===p})}return!0},P=function(){return P=Object.assign||function(r){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},P.apply(this,arguments)};function ye(t,r){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)r.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(e[i[a]]=t[i[a]]);return e}function st(t,r,e,i){function a(n){return n instanceof e?n:new e(function(f){f(n)})}return new(e||(e=Promise))(function(n,f){function p(v){try{l(i.next(v))}catch(m){f(m)}}function y(v){try{l(i.throw(v))}catch(m){f(m)}}function l(v){v.done?n(v.value):a(v.value).then(p,y)}l((i=i.apply(t,[])).next())})}function dt(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(l){return function(v){return y([l,v])}}function y(l){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,l[0]&&(e=0)),e;)try{if(i=1,a&&(n=l[0]&2?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,a=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(v){l=[6,v],a=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ie(t,r,e){if(e||arguments.length===2)for(var i=0,a=r.length,n;i<a;i++)(n||!(i in r))&&(n||(n=Array.prototype.slice.call(r,0,i)),n[i]=r[i]);return t.concat(n||Array.prototype.slice.call(r))}function ft(t){return t.includes("MSIE")||t.includes("Trident/")}function vt(t){return t.includes("Edge/")}function ct(t){return t===void 0&&(t=window.navigator.userAgent),ft(t)||vt(t)}function he(t){t.preventDefault()}function Z(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!t.target&&!!t.target.files}function te(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}var pt="file-invalid-type",mt="file-too-large",gt="file-too-small",yt="too-many-files",ht={code:yt,message:"Too many files"},_t=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:pt,message:"File type must be ".concat(r)}};function N(t){return t!=null}var bt=Ee.default,xt=bt||Ee;function Fe(t,r){var e=t.type==="application/x-moz-file"||xt(t,r);return[e,e?null:_t(r)]}var _e=function(t){return{code:mt,message:"File is larger than ".concat(t," bytes")}},be=function(t){return{code:gt,message:"File is smaller than ".concat(t," bytes")}};function ke(t,r,e){if(N(t.size)&&t.size)if(N(r)&&N(e)){if(t.size>e)return[!1,_e(e)];if(t.size<r)return[!1,be(r)]}else{if(N(r)&&t.size<r)return[!1,be(r)];if(N(e)&&t.size>e)return[!1,_e(e)]}return[!0,null]}function L(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return t.some(function(n){return!te(e)&&n&&n.apply(void 0,ie([e],i,!1)),te(e)})}}function Dt(t){var r=t.files,e=t.accept,i=t.minSize,a=t.maxSize,n=t.multiple,f=t.maxFiles;return!n&&r.length>1||n&&f>=1&&r.length>f?!1:r.every(function(p){var y=Fe(p,e)[0],l=ke(p,i,a)[0];return y&&l})}var wt={disabled:!1,getFilesFromEvent:tt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};function Et(t){t===void 0&&(t={});var r=j(P(P({},wt),t));Ve(function(){return P({},t)},function(u){r.value=P(P({},r.value),u)});var e=j(),i=j(),a=Re({isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]}),n=function(){i.value&&(a.isFileDialogActive=!0,i.value.value="",i.value.click())},f=function(){var u=r.value.onFileDialogCancel;a.isFileDialogActive&&setTimeout(function(){if(i.value){var c=i.value.files;c&&!c.length&&(a.isFileDialogActive=!1,typeof u=="function"&&u())}},300)};function p(){a.isFocused=!0}function y(){a.isFocused=!1}function l(){var u=r.value.noClick;u||(ct()?setTimeout(n,0):n())}var v=j([]),m=function(u){if(e.value){var c=e.value.$el||e.value;c.contains(u.target)||(u.preventDefault(),v.value=[])}};xe(function(){window.addEventListener("focus",f,!1);var u=r.value.preventDropOnDocument;u&&(document.addEventListener("dragover",he,!1),document.addEventListener("drop",m,!1))}),Ue(function(){window.removeEventListener("focus",f,!1);var u=r.value.preventDropOnDocument;u&&(document.removeEventListener("dragover",he),document.removeEventListener("drop",m))});function E(u){var c=r.value.noDragEventsBubbling;c&&u.stopPropagation()}function U(u){return st(this,void 0,void 0,function(){var c,S,O,T,A;return dt(this,function(V){switch(V.label){case 0:return c=r.value,S=c.getFilesFromEvent,O=c.noDragEventsBubbling,T=c.onDragEnter,u.preventDefault(),E(u),v.value=ie(ie([],v.value,!0),[u.target],!1),Z(u)?S?[4,S(u)]:[2]:[3,2];case 1:if(A=V.sent(),A||(A=[]),te(u)&&!O)return[2];a.draggedFiles=A,a.isDragActive=!0,T&&T(u),V.label=2;case 2:return[2]}})})}function h(u){var c=r.value.onDragOver;if(u.preventDefault(),E(u),u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return Z(u)&&c&&c(u),!1}function o(u){u.preventDefault(),E(u);var c=v.value.filter(function(T){if(!e.value)return!1;var A=e.value.$el||e.value;return A.contains(T)}),S=c.indexOf(u.target);if(S!==-1&&c.splice(S,1),v.value=c,!(c.length>0)){a.draggedFiles=[],a.isDragActive=!1;var O=r.value.onDragLeave;Z(u)&&O&&O(u)}}function C(u){u.preventDefault(),E(u),v.value=[];var c=r.value,S=c.getFilesFromEvent,O=c.noDragEventsBubbling,T=c.accept,A=c.minSize,V=c.maxSize,Y=c.multiple,G=c.maxFiles,H=c.onDrop,K=c.onDropRejected,X=c.onDropAccepted;if(Z(u)){if(!S)return;Promise.resolve(S(u)).then(function(Oe){if(!(te(u)&&!O)){var z=[],B=[];Oe.forEach(function($){var de=Fe($,T),Te=de[0],Ae=de[1],fe=ke($,A,V),Ie=fe[0],ze=fe[1];if(Te&&Ie)z.push($);else{var Le=[Ae,ze].filter(function(je){return je});B.push({file:$,errors:Le})}}),(!Y&&z.length>1||Y&&G>=1&&z.length>G)&&(z.forEach(function($){B.push({file:$,errors:[ht]})}),z.splice(0)),a.acceptedFiles=z,a.fileRejections=B,H&&H(z,B,u),B.length>0&&K&&K(B,u),z.length>0&&X&&X(z,u)}})}a.isFileDialogActive=!1,a.isDragActive=!1,a.draggedFiles=[],a.acceptedFiles=[],a.fileRejections=[]}var I=function(u){return r.value.disabled?void 0:u},M=function(u){return r.value.noKeyboard?void 0:I(u)},d=function(u){return r.value.noDrag?void 0:I(u)},le=function(u){u===void 0&&(u={});var c=u.onFocus,S=u.onBlur,O=u.onClick,T=u.onDragEnter,A=u.onDragenter,V=u.onDragOver,Y=u.onDragover,G=u.onDragLeave,H=u.onDragleave,K=u.onDrop,X=ye(u,["onFocus","onBlur","onClick","onDragEnter","onDragenter","onDragOver","onDragover","onDragLeave","onDragleave","onDrop"]);return P(P({onFocus:M(L(c,p)),onBlur:M(L(S,y)),onClick:I(L(O,l)),onDragenter:d(L(T,A,U)),onDragover:d(L(V,Y,h)),onDragleave:d(L(G,H,o)),onDrop:d(L(K,C)),ref:e},!r.value.disabled&&!r.value.noKeyboard?{tabIndex:0}:{}),X)},Ce=function(u){u.stopPropagation()};function Se(u){u===void 0&&(u={});var c=u.onChange,S=u.onClick,O=ye(u,["onChange","onClick"]),T={accept:r.value.accept,multiple:r.value.multiple,style:"display: none",type:"file",onChange:I(L(c,C)),onClick:I(L(S,Ce)),autoComplete:"off",tabIndex:-1,ref:i};return P(P({},T),O)}var ue=Q(function(){return a.draggedFiles?a.draggedFiles.length:0}),se=Q(function(){return ue.value>0&&Dt({files:a.draggedFiles,accept:r.value.accept,minSize:r.value.minSize,maxSize:r.value.maxSize,multiple:r.value.multiple,maxFiles:r.value.maxFiles})}),Pe=Q(function(){return ue.value>0&&!se.value});return P(P({},Be(a)),{isDragAccept:se,isDragReject:Pe,isFocused:Q(function(){return a.isFocused&&!r.value.disabled}),getRootProps:le,getInputProps:Se,rootRef:e,inputRef:i,open:I(n)})}const Ft={props:{folder:{type:String,required:!0},visibility:{type:String,default:null},allowedFileTypes:String,uploadSuccessFunction:Function},setup(t,r){const e=y=>{let l={folder:t.folder,files:[],visibility:"public"};const v=new FormData;for(var m=0;m<y.length;m++)v.append("files[]",y[m]),l.files.push(y[m]);v.append("folder",t.folder),v.append("returnFilePathOnly",t.folder),v.append("acceptedFileTypes",t.allowedFileTypes),axios.post("/admin/file-uploads",v,{headers:{"Content-Type":"multipart/form-data"}}).then(E=>{E.data.data&&r.emit("filesWereUploaded",E.data.data)}).catch(function(E){console.log(E),ee.fire({icon:"error",title:"Oops!",text:E.response.data.meta.message})})};function i(y,l){var v,m,E,U;(m=(v=l[0])==null?void 0:v.errors[0])!=null&&m.message?ee.fire({icon:"error",title:"Oops!",text:(U=(E=l[0])==null?void 0:E.errors[0])==null?void 0:U.message}):e(y)}let a={onDrop:i,maxFiles:1,accept:t.allowedFileTypes,multiple:0};const{getRootProps:n,getInputProps:f,...p}=Et(a);return{getRootProps:n,getInputProps:f,...p}}},kt={class:"border bg-gray-100 rounded p-8 text-center cursor-pointer hover:border-2 hover:border-dashed"},Ct={key:0},St={key:1};function Pt(t,r,e,i,a,n){return x(),D("div",null,[s("div",ve(ce(i.getRootProps())),[s("input",ve(ce(i.getInputProps())),null,16),s("div",kt,[t.isDragActive?(x(),D("p",Ct,"Drop the file here ...")):(x(),D("p",St,"Drag 'n' drop a files here, or click to select files"))])],16)])}const Ot=He(Ft,[["render",Pt]]),Tt={class:"card-header flex justify-between items-center"},At={class:"text-lg font-bold flex justify-start items-center"},It={key:0},zt={key:1},Lt={key:0},jt={key:0},Vt={class:"border-b border-dotted py-4"},Rt={key:0,class:"mt-4"},Ut={class:"grid grid-cols-4 gap-2"},Bt={key:1},$t={key:1},Mt={class:"border-b border-dotted py-4"},Nt={class:"flex justify-start items-center"},qt={key:0,class:"border-b border-dotted py-4"},Wt={key:1},Yt={class:"border-b border-dotted py-4"},Gt={class:"flex justify-start items-center"},Ht={key:0,class:"text-xs italic"},Kt={key:0,class:"py-4 border-b"},Xt={class:"grid grid-cols-4 gap-4"},Qt={class:"py-4 border-b"},Jt={for:"archived"},Zt={key:0},er={class:"flex items-center justify-start mt-4"},tr={key:0,class:"card"},rr=["src"],vr={__name:"AdminTeamVoucherTemplateEditComponent",props:{id:{type:Number,required:!1}},setup(t){const r=t,e=j({team_id:"",voucher_template_path:"",voucher_example_template_path:"",overlay_font_path:"fonts/OpenSans_Condensed-Bold.ttf",voucher_qr_size_px:200,voucher_qr_x:100,voucher_qr_y:200,voucher_code_size_px:32,voucher_code_x:100,voucher_code_y:160,voucher_code_prefix:"",voucher_expiry_size_px:32,voucher_expiry_x:100,voucher_expiry_y:220,voucher_expiry_prefix:"",voucher_value_size_px:32,voucher_value_x:100,voucher_value_y:280,voucher_value_prefix:""}),i=j(""),a=j({}),n=j({}),f=j(!1);function p(){axios.get("/admin/teams?where[]=name,like,*"+i.value+"*&limit=100").then(h=>{a.value=h.data.data}).catch(h=>{console.log(h)})}function y(h){e.value.team_id=h.id,n.value=h}function l(){let h="post",o="/admin/team-voucher-templates";r.id&&(h="put",o="/admin/team-voucher-templates/"+r.id),e.value.archive=f.value,axios[h](o,e.value).then(C=>{ee.fire({title:"Success!",icon:"success",timer:1e3}).then(()=>{window.location.href="/admin/team-voucher-template/"+C.data.data.id})}).catch(C=>{console.log(C)})}function v(){axios.get("/admin/team-voucher-templates/"+r.id+"?cached=false&relations=team").then(h=>{e.value=h.data.data,n.value=e.value.team,m()}).catch(h=>{console.log(h)})}function m(){e.value.archived_at?f.value=!0:f.value=!1}function E(){const h=new URLSearchParams(window.location.search);if(h.has("teamId")){const o=h.get("teamId");axios.get("/admin/teams/"+o).then(C=>{n.value=C.data.data,e.value.team_id=C.data.data.id,m()}).catch(C=>{console.log(C),ee.fire({title:"Oops..!",icon:"error",text:"I couldn't locate team with ID "+o+". Please start from scratch."})})}}xe(h=>{r.id?v():E()});function U(h){e.value.voucher_template_path=h[0]}return(h,o)=>{var C,I,M;return x(),D("div",{class:oe(["grid gap-4 container mx-auto",{"grid-cols-3":e.value.example_template_image_url}])},[s("div",{class:oe(["card",{"col-span-2":e.value.example_template_image_url}])},[s("div",Tt,[s("div",At,[(C=e.value)!=null&&C.id?(x(),D("div",It,"Edit")):(x(),D("div",zt,"New")),o[21]||(o[21]=s("div",{class:"ml-1"}," Voucher Template ",-1))]),e.value.archived_at?(x(),D("div",Lt,o[22]||(o[22]=[s("div",{class:"border-4 rounded-lg border-dashed p-2 px-8 border-red-300 text-red-300 text-xl font-bold"}," Archived ",-1)]))):R("",!0)]),e.value.team_id?(x(),D("div",$t,[s("div",Mt,[o[25]||(o[25]=s("div",{class:"text-sm font-bold"}," Selected Team ",-1)),s("div",Nt,[g(Ne(qe),{href:"/admin/team/"+e.value.team_id},{default:_(()=>{var d;return[b(J((d=n.value)==null?void 0:d.name),1)]}),_:1},8,["href"]),g(pe,{class:"ml-2 !p-1 !px-2",onClick:o[2]||(o[2]=ne(d=>e.value.team_id="",["prevent"]))},{default:_(()=>o[24]||(o[24]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)])),_:1})])]),s("div",null,[e.value.voucher_template_path?(x(),D("div",Wt,[s("div",Yt,[o[28]||(o[28]=s("div",{class:"text-sm font-bold"}," Selected Template ",-1)),s("div",Gt,[b(J((I=e.value)==null?void 0:I.voucher_template_path)+" ",1),g(pe,{class:"ml-2 !p-1 !px-2",onClick:o[3]||(o[3]=ne(d=>e.value.voucher_template_path="",["prevent"]))},{default:_(()=>o[27]||(o[27]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)])),_:1})]),e.value.voucher_example_template_path?R("",!0):(x(),D("div",Ht," Example image will show after we have saved/re-saved. "))])])):(x(),D("div",qt,[o[26]||(o[26]=s("div",null," Next, Upload a template (PNG only): ",-1)),g(Ot,{onFilesWereUploaded:U,folder:"/teams/"+e.value.team_id+"/voucher-templates","allowed-file-types":"image/png"},null,8,["folder"])]))]),e.value.voucher_example_template_path?(x(),D("div",Kt,[o[45]||(o[45]=s("div",{class:"text-sm font-bold mb-4"}," Template Positions ",-1)),s("div",Xt,[s("div",null,[g(w,null,{default:_(()=>o[29]||(o[29]=[b(" QR Size ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=d=>e.value.voucher_qr_size_px=d)},null,512),[[k,e.value.voucher_qr_size_px,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[30]||(o[30]=[b(" QR Coords: X Position ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=d=>e.value.voucher_qr_x=d)},null,512),[[k,e.value.voucher_qr_x,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[31]||(o[31]=[b(" QR Coords: Y Position ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=d=>e.value.voucher_qr_y=d)},null,512),[[k,e.value.voucher_qr_y,void 0,{number:!0}]])]),o[44]||(o[44]=s("div",null,null,-1)),s("div",null,[g(w,null,{default:_(()=>o[32]||(o[32]=[b(" Voucher Code: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=d=>e.value.voucher_code_size_px=d)},null,512),[[k,e.value.voucher_code_size_px,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[33]||(o[33]=[b(" Code Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=d=>e.value.voucher_code_x=d)},null,512),[[k,e.value.voucher_code_x,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[34]||(o[34]=[b(" Code Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[9]||(o[9]=d=>e.value.voucher_code_y=d)},null,512),[[k,e.value.voucher_code_y,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[35]||(o[35]=[b(" Code Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[10]||(o[10]=d=>e.value.voucher_code_prefix=d)},null,512),[[k,e.value.voucher_code_prefix]])]),s("div",null,[g(w,null,{default:_(()=>o[36]||(o[36]=[b(" Voucher Expiry: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=d=>e.value.voucher_expiry_size_px=d)},null,512),[[k,e.value.voucher_expiry_size_px,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[37]||(o[37]=[b(" Expiry Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=d=>e.value.voucher_expiry_x=d)},null,512),[[k,e.value.voucher_expiry_x,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[38]||(o[38]=[b(" Expiry Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[13]||(o[13]=d=>e.value.voucher_expiry_y=d)},null,512),[[k,e.value.voucher_expiry_y,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[39]||(o[39]=[b(" Expiry Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[14]||(o[14]=d=>e.value.voucher_expiry_prefix=d)},null,512),[[k,e.value.voucher_expiry_prefix]])]),s("div",null,[g(w,null,{default:_(()=>o[40]||(o[40]=[b(" Voucher Value: Size (px) ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[15]||(o[15]=d=>e.value.voucher_value_size_px=d)},null,512),[[k,e.value.voucher_value_size_px,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[41]||(o[41]=[b(" Value Coords: X Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=d=>e.value.voucher_value_x=d)},null,512),[[k,e.value.voucher_value_x,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[42]||(o[42]=[b(" Value Coords: Y Pos ")])),_:1}),F(s("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=d=>e.value.voucher_value_y=d)},null,512),[[k,e.value.voucher_value_y,void 0,{number:!0}]])]),s("div",null,[g(w,null,{default:_(()=>o[43]||(o[43]=[b(" Value Prefix: ")])),_:1}),F(s("input",{type:"text","onUpdate:modelValue":o[18]||(o[18]=d=>e.value.voucher_value_prefix=d)},null,512),[[k,e.value.voucher_value_prefix]])])])])):R("",!0)])):(x(),D("div",jt,[s("div",Vt,[s("div",null,[g(w,{for:"name",value:"First, Select A Team.."}),g(We,{onKeyup:o[0]||(o[0]=d=>p()),modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=d=>i.value=d),class:"mt-1 block w-full",placeholder:"Search team by name..",type:"search"},null,8,["modelValue"])]),i.value.length>0&&a.value.total>0?(x(),D("div",Rt,[s("div",Ut,[(x(!0),D($e,null,Me(a.value.data,d=>(x(),D("div",null,[g(Ge,{class:"truncate w-full py-2 flex justify-center",onClick:le=>y(d)},{default:_(()=>[b(J(d==null?void 0:d.name),1)]),_:2},1032,["onClick"])]))),256))])])):R("",!0),i.value.length>0&&a.value.total===0?(x(),D("div",Bt,o[23]||(o[23]=[s("div",{class:"text-red-500 text-sm mt-4 cursor-pointer hover:underline"}," No teams found. ",-1)]))):R("",!0)])])),s("div",Qt,[g(w,{for:"archived",value:"Archive / Unarchive this template"}),s("label",Jt,[g(Ke,{id:"archived",checked:f.value,modelValue:f.value,"onUpdate:modelValue":o[19]||(o[19]=d=>f.value=d)},null,8,["checked","modelValue"]),o[46]||(o[46]=s("span",{class:"ml-2"}," Archived ",-1)),(M=e.value)!=null&&M.archived_at?(x(),D("span",Zt,"@ "+J(e.value.archived_at),1)):R("",!0)])]),s("div",er,[g(Ye,{onClick:o[20]||(o[20]=ne(d=>l(),["prevent"])),class:oe(["",{"opacity-25":!e.value.voucher_template_path}]),disabled:!e.value.voucher_template_path},{default:_(()=>o[47]||(o[47]=[b(" Submit ")])),_:1},8,["class","disabled"])])],2),e.value.example_template_image_url?(x(),D("div",tr,[o[48]||(o[48]=s("div",{class:"card-header"},[s("div",{class:"text-lg font-bold"}," Preview ")],-1)),s("img",{src:e.value.example_template_image_url,alt:"",class:"border rounded w-full"},null,8,rr)])):R("",!0)],2)}}};export{vr as _};
