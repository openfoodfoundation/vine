import{_ as y}from"./AuthenticatedLayout-CjeegPI7.js";import{r as p,o as g,c as d,e as i,a as r,d as t,F as h,g as x,h as b,w as c,t as a,u as m,P as w,b as n,m as k}from"./app-Di7eoUHE.js";import{_ as V}from"./AdminTopNavigation-CVrddWig.js";import{P as B}from"./PaginatorComponent-vaQqKt5t.js";import{d as l}from"./dayjs.min-CBtBHkZ9.js";import{r as C}from"./relativeTime-cSz6fq_q.js";import{u as P}from"./utc-Bca-V__9.js";import"./ApplicationLogo-BFB6tnDt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-BK0ZiTCI.js";import"./SecondaryButton-BlmdRH4M.js";const $={key:0},j={class:"border-b flex justify-between items-center py-2 sm:p-2"},N={class:"text-xs"},T={class:"font-bold text-sm"},D={key:0,class:"text-red-500 font-bold"},F={key:1},S={key:2},z={class:"flex justify-end items-center mt-4"},E={class:"w-full lg:w-1/3"},L={__name:"VoucherRedemptionsComponent",setup(v){l.extend(C),l.extend(P);const u=p(50),s=p({});g(()=>{f()});function f(_=1){axios.get("/admin/voucher-redemptions?cached=false&page="+_+"&limit="+u.value+"&orderBy=created_at,desc&relations=redeemedByUser,redeemedByTeam").then(o=>{s.value=o.data.data}).catch(o=>{console.log(o)})}return(_,o)=>s.value.data&&s.value.data.length?(r(),d("div",$,[(r(!0),d(h,null,x(s.value.data,e=>(r(),b(m(w),{href:_.route("admin.voucher-redemption",e.id),class:"hover:no-underline hover:opacity-75"},{default:c(()=>[t("div",j,[t("div",N,[t("div",T," #"+a(e.id),1),e.is_test?(r(),d("div",D," Test voucher redemption ")):i("",!0),t("div",null," Voucher: #"+a(e.voucher_id),1),t("div",null," Voucher set: #"+a(e.voucher_set_id),1),e.redeemed_by_user&&e.redeemed_by_team?(r(),d("div",F," Redeemed by: "+a(e.redeemed_by_user.name)+" ("+a(e.redeemed_by_team.name)+") ",1)):i("",!0),t("div",null," Redeemed amount: $"+a(e.redeemed_amount/100),1),e.created_by_team?(r(),d("div",S," Created at: "+a(m(l).utc(e.created_at).fromNow())+" ("+a(m(l)(e.created_at))+") ",1)):i("",!0)]),o[0]||(o[0]=t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])],-1))])]),_:2},1032,["href"]))),256)),t("div",z,[t("div",E,[n(B,{onSetDataPage:f,"pagination-data":s.value},null,8,["pagination-data"])])])])):i("",!0)}},M={class:"card"},X={__name:"VoucherRedemptions",setup(v){return(u,s)=>(r(),d(h,null,[n(m(k),{title:"Voucher redemptions"}),n(y,null,{header:c(()=>[n(V)]),default:c(()=>[t("div",M,[s[0]||(s[0]=t("div",{class:"card-header"}," Voucher Redemptions ",-1)),n(L)])]),_:1})],64))}};export{X as default};
