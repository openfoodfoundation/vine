import{_ as p}from"./AuthenticatedLayout-Dk2oyUhS.js";import{r as y,o as b,a as s,b as d,d as u,u as r,w as n,F as g,Z as k,e as t,t as o,h as l,i as v,f as _}from"./app-C6-ooqD9.js";import{_ as x}from"./AdminTopNavigation-Dhxi6BLP.js";import{d as c}from"./dayjs.min-BVj6BrBB.js";import{r as V}from"./relativeTime-DK8zQSks.js";import{u as N}from"./utc-BqjOqHj6.js";import"./ApplicationLogo-CRETJgkc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-_oZsj4da.js";import"./sweetalert2.esm.all-BccGxJ0c.js";const T={class:"card"},$={class:"opacity-25 text-sm"},w={key:0},B={key:1,class:"font-bold text-red-500 text-sm"},C={class:"card"},F={key:0},R={class:"card"},S={key:0},j={key:1,class:"text-xs mt-2"},q={class:"card"},A={key:0},D={class:"card"},E={class:"font-bold"},L={class:"font-bold"},M={class:"font-bold"},O={key:0},W={__name:"Voucher",props:{id:{required:!0}},setup(h){c.extend(V),c.extend(N);const m=h,e=y({});b(()=>{f()});function f(){axios.get("/admin/vouchers/"+m.id+"?cached=false&relations=createdByTeam,allocatedToServiceTeam").then(i=>{e.value=i.data.data}).catch(i=>{console.log(i)})}return(i,a)=>(s(),d(g,null,[u(r(k),{title:"Voucher set"}),u(p,null,{header:n(()=>[u(x)]),default:n(()=>[t("div",T,[t("div",$,o(m.id),1),e.value.voucher_short_code?(s(),d("h2",w,o(e.value.voucher_short_code),1)):l("",!0),e.value.is_test?(s(),d("div",B," Test voucher ")):l("",!0)]),t("div",C,[a[0]||(a[0]=t("div",{class:"card-header"}," Voucher set ",-1)),e.value.voucher_set_id?(s(),d("div",F,[u(r(v),{href:i.route("admin.voucher-set",{id:e.value.voucher_set_id})},{default:n(()=>[_(o(e.value.voucher_set_id),1)]),_:1},8,["href"])])):l("",!0)]),t("div",R,[a[1]||(a[1]=t("div",{class:"card-header"}," Created by team ",-1)),e.value.created_by_team?(s(),d("div",S,[u(r(v),{href:i.route("admin.team",{id:e.value.created_by_team_id})},{default:n(()=>[_(o(e.value.created_by_team.name),1)]),_:1},8,["href"])])):l("",!0),e.value.created_at?(s(),d("div",j," Created at: "+o(r(c).utc(e.value.created_at).fromNow())+" ("+o(r(c)(e.value.created_at))+") ",1)):l("",!0)]),t("div",q,[a[2]||(a[2]=t("div",{class:"card-header"}," Allocated to team ",-1)),e.value.allocated_to_service_team_id?(s(),d("div",A,[u(r(v),{href:i.route("admin.team",{id:e.value.allocated_to_service_team_id})},{default:n(()=>[_(o(e.value.allocated_to_service_team.name),1)]),_:1},8,["href"])])):l("",!0)]),t("div",D,[a[6]||(a[6]=t("div",{class:"card-header"}," Voucher details ",-1)),t("div",null,[a[3]||(a[3]=_(" Original value: ")),t("span",E,"$"+o(e.value.voucher_value_original/100),1)]),t("div",null,[a[4]||(a[4]=_(" Remaining value: ")),t("span",L,"$"+o(e.value.voucher_value_remaining/100),1)]),t("div",null,[a[5]||(a[5]=_(" Redemptions: ")),t("span",M,o(e.value.num_voucher_redemptions),1)]),e.value.last_redemption_at?(s(),d("div",O," Last redeemed at: "+o(r(c).utc(e.value.last_redemption_at).fromNow())+" ("+o(r(c)(e.value.last_redemption_at))+") ",1)):l("",!0)])]),_:1})],64))}};export{W as default};
