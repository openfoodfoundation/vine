import{r as p,s as T,c as n,a as r,d as s,b as u,w as d,f,u as v,l as h,m as S,x as V,e as m,t as M,F as x,g as w}from"./app-DC3fkuFb.js";import{S as N}from"./AuthenticatedLayout-CYCyMt6B.js";const R={class:"flex justify-between flex-wrap"},j={class:"w-full md:mt-4 md:w-2/3 md:grow lg:flex lg:justify-start lg:items-start lg:gap-x-4 grid grid-cols-3 font-normal text-base"},A={class:"w-full md:w-1/3"},z={class:"py-1 h-full w-full pt-4 md:pt-0"},C={class:"h-full"},D={key:0,class:"absolute top-48 left-0 w-full h-full min-h-full min-w-full"},B={class:"bg-white border rounded-lg p-4 mt-6 w-3/4 mx-auto z-20 relative overflow-y-scroll max-h-screen"},E={class:"mb-4 text-2xl"},U={key:0,class:"mb-8"},F=["href"],$={class:"flex space-x-4"},q=["innerHTML"],I=["innerHTML"],O={key:1,class:"my-8"},P=["href"],G={class:"flex"},J=["innerHTML"],K={key:2,class:"my-8"},Q=["href"],W={class:""},X=["innerHTML"],Y=["innerHTML"],Z={key:3,class:"my-8"},ee=["href"],se={class:"flex"},le=["innerHTML"],te={class:"ml-2"},ne=["innerHTML"],re={key:1,class:"absolute top-48 left-0 w-full h-full min-h-full min-w-full"},ie={class:"bg-white border rounded-lg p-4 mt-6 w-3/4 mx-auto z-20 relative overflow-y-scroll max-h-screen"},oe={class:"text-2xl"},fe={__name:"AdminTopNavigation",setup(ae){const o=p(""),i=p({users:[],teams:[],vouchers:[],voucherSets:[]}),c=p(!1),g=p(!1);T(o,()=>{o.value.length>=3?k():(c.value=!1,g.value=!1)}),T(i,()=>{c.value=!1,g.value=!1,o.value.length>=3&&(i.value.users.length||i.value.teams.length||i.value.vouchers.length||i.value.voucherSets.length?c.value=!0:g.value=!0)});function k(){o.value&&o.value.length>=3&&axios.get("/admin/search?cached=false&query="+o.value).then(t=>{i.value=t.data.data}).catch(t=>{N.fire({icon:"error",title:"Oops!",text:t.response.data.message})})}function a(t){let e=new RegExp(o.value,"ig"),l=t.matchAll(e);if(l.length===0)return t;let y=0;return[...l].forEach(b=>{const H=t.slice(0,b.index+y),L=t.slice(b.index+y+b[0].length),_='<b class="text-blue-500">'+b[0]+"</b>";t=H+_+L,y+=_.length-b[0].length}),t}return(t,e)=>(r(),n(x,null,[e[19]||(e[19]=s("h2",null," Admin Dashboard ",-1)),s("div",R,[s("div",j,[u(v(h),{href:t.route("admin.home")},{default:d(()=>[...e[3]||(e[3]=[f(" Admin Home ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.users")},{default:d(()=>[...e[4]||(e[4]=[f(" Users ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.teams")},{default:d(()=>[...e[5]||(e[5]=[f(" Teams ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.voucher-sets")},{default:d(()=>[...e[6]||(e[6]=[f(" Voucher Sets ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.vouchers")},{default:d(()=>[...e[7]||(e[7]=[f(" Vouchers ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.voucher-redemptions")},{default:d(()=>[...e[8]||(e[8]=[f(" Redemptions ",-1)])]),_:1},8,["href"]),u(v(h),{href:t.route("admin.api-access-tokens")},{default:d(()=>[...e[9]||(e[9]=[f(" API Access Tokens ",-1)])]),_:1},8,["href"])]),s("div",A,[s("div",z,[S(s("input",{id:"admin-search-box","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),autofocus:"",class:"border-gray-200 placeholder:text-gray-400 rounded p-3 w-full text-blue",placeholder:"Search..",type:"search"},null,512),[[V,o.value]]),e[10]||(e[10]=s("div",{class:"text-xs mt-1 text-gray italic"},"Min. 3 chars",-1))])])]),s("div",C,[c.value?(r(),n("div",D,[s("div",{class:"bg-black fixed top-18 w-full h-screen opacity-60 z-10",onClick:e[1]||(e[1]=l=>c.value=!1)}),s("div",B,[s("div",E,'Search Results for "'+M(o.value)+'"',1),i.value.users.length>0?(r(),n("div",U,[e[12]||(e[12]=s("div",{class:"font-bold text-gray-300 mb-1"}," Users ",-1)),s("div",null,[(r(!0),n(x,null,w(i.value.users,l=>(r(),n("div",null,[s("a",{href:"/admin/user/"+l.id,class:"flex justify-between w-full py-2 border-b",tabindex:"0"},[s("div",$,[s("div",{innerHTML:a(l.name)},null,8,q),s("div",{innerHTML:a(l.email)},null,8,I)]),e[11]||(e[11]=s("i",{class:"fa fa-chevron-right flex items-center"},null,-1))],8,F)]))),256))])])):m("",!0),i.value.teams.length>0?(r(),n("div",O,[e[14]||(e[14]=s("div",{class:"font-bold text-gray-300 mb-1"}," Teams ",-1)),s("div",null,[(r(!0),n(x,null,w(i.value.teams,l=>(r(),n("div",null,[s("a",{href:"/admin/team/"+l.id,class:"flex justify-between w-full py-2 border-b",tabindex:"0"},[s("div",G,[s("div",{innerHTML:a(l.name)},null,8,J)]),e[13]||(e[13]=s("i",{class:"fa fa-chevron-right flex items-center"},null,-1))],8,P)]))),256))])])):m("",!0),i.value.voucherSets.length>0?(r(),n("div",K,[e[16]||(e[16]=s("div",{class:"font-bold text-gray-300 mb-1"}," Voucher Sets ",-1)),s("div",null,[(r(!0),n(x,null,w(i.value.voucherSets,l=>(r(),n("div",null,[s("a",{href:"/admin/voucher-set/"+l.id,class:"flex justify-between w-full py-2 border-b",tabindex:"0"},[s("div",W,[s("div",{innerHTML:a(l.id)},null,8,X),s("div",{innerHTML:a(l.name),class:"font-normal"},null,8,Y)]),e[15]||(e[15]=s("i",{class:"fa fa-chevron-right flex items-center"},null,-1))],8,Q)]))),256))])])):m("",!0),i.value.vouchers.length>0?(r(),n("div",Z,[e[18]||(e[18]=s("div",{class:"font-bold text-gray-300 mb-1"}," Vouchers ",-1)),s("div",null,[(r(!0),n(x,null,w(i.value.vouchers,l=>(r(),n("div",null,[s("a",{href:"/admin/voucher/"+l.id,class:"flex justify-between w-full py-2 border-b",tabindex:"0"},[s("div",se,[s("div",{innerHTML:a(l.id)},null,8,le),s("div",te,[s("div",{innerHTML:a("("+l.voucher_short_code+")")},null,8,ne)])]),e[17]||(e[17]=s("i",{class:"fa fa-chevron-right flex items-center"},null,-1))],8,ee)]))),256))])])):m("",!0)])])):m("",!0),g.value?(r(),n("div",re,[s("div",{class:"bg-black fixed top-18 w-full h-screen opacity-60 z-10",onClick:e[2]||(e[2]=l=>g.value=!1)}),s("div",ie,[s("div",oe,'No Search Results for "'+M(o.value)+'"',1)])])):m("",!0)])],64))}};export{fe as _};
