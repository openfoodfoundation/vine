import{_ as h,S as y}from"./AuthenticatedLayout-CtG-pkjc.js";import{r as A,o as x,c as i,a as r,b as l,u as v,m as w,w as d,d as t,t as a,e as u,f as n,P as g,F as T}from"./app-F_MX-iEd.js";import{_ as P}from"./AdminTopNavigation-D2Tk7XUm.js";import{d as c}from"./dayjs.min-CNj_wCA1.js";import{r as B}from"./relativeTime-BMcMQ_bg.js";import{l as C}from"./localizedFormat-DET2nfUR.js";import{P as N}from"./PrimaryButton-ioB8zCBr.js";import"./ApplicationLogo-CRL8fpPB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"card"},L={class:"card"},V={class:"my-1"},$={key:0,class:"my-1"},I={class:"my-1"},S={key:1,class:"my-1"},j={key:2,class:"my-1"},E={class:"card"},R={key:0},q={class:"card"},U={__name:"APIAccessToken",props:{id:{required:!0,type:Number}},setup(k){const p=k,s=A({});x(()=>{_()});function m(o){return c.extend(B),c.extend(C),c(o).fromNow()+" ("+c(o).format("LLL")+")"}function _(){axios.get("/admin/user-personal-access-tokens/"+p.id+"?cached=false&relations=user").then(o=>{s.value=o.data.data}).catch(o=>{console.log(o)})}function b(){y.fire({title:"Are you sure you want to delete this token?",text:"This action cannot be undone, and the user will no longer be able to use this token. Please confirm if you wish to proceed.",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Revoke this token",showCancelButton:!0}).then(o=>{o.isConfirmed&&axios.delete("/admin/user-personal-access-tokens/"+p.id).then(e=>{window.location.href=route("admin.api-access-tokens")}).catch(e=>{console.log(e)})})}return(o,e)=>(r(),i(T,null,[l(v(w),{title:"API Access Token"}),l(h,null,{header:d(()=>[l(P)]),default:d(()=>[t("div",F,[t("h2",null,a(s.value.name)+" (#"+a(s.value.id)+") ",1)]),t("div",L,[e[6]||(e[6]=t("div",{class:"card-header"}," API Access Token details ",-1)),t("div",V,[e[1]||(e[1]=t("span",{class:"font-bold"}," Name: ",-1)),n(" "+a(s.value.name),1)]),s.value.tokenable_id?(r(),i("div",$,[e[2]||(e[2]=t("span",{class:"font-bold"}," Assigned To: ",-1)),l(v(g),{href:o.route("admin.user",{id:s.value.tokenable_id})},{default:d(()=>{var f;return[n(a((f=s.value.user)==null?void 0:f.name),1)]}),_:1},8,["href"])])):u("",!0),t("div",I,[e[3]||(e[3]=t("span",{class:"font-bold"}," Created: ",-1)),n(" "+a(m(s.value.created_at)),1)]),s.value.last_used_at?(r(),i("div",S,[e[4]||(e[4]=t("span",{class:"font-bold"}," Last used: ",-1)),n(" "+a(m(s.value.last_used_at)),1)])):u("",!0),s.value.expires_at?(r(),i("div",j,[e[5]||(e[5]=t("span",{class:"font-bold"}," Expires: ",-1)),n(" "+a(m(s.value.expires_at)),1)])):u("",!0)]),t("div",E,[e[7]||(e[7]=t("div",{class:"card-header"}," Abilities ",-1)),s.value.abilities&&s.value.abilities.length?(r(),i("div",R,a(s.value.abilities.join(", ")),1)):u("",!0)]),t("div",q,[l(N,{onClick:e[0]||(e[0]=f=>b())},{default:d(()=>e[8]||(e[8]=[n(" Revoke this token ")])),_:1})])]),_:1})],64))}};export{U as default};
