import{_ as b}from"./AuthenticatedLayout-cKOAQxkY.js";import{r as g,o as V,c as o,a as _,u as r,w as c,F as p,b as d,Z as k,d as e,t as a,f as i,e as l,i as m,g as T}from"./app-zYMJo-Eu.js";import{_ as N}from"./AdminTopNavigation-D9uRaWME.js";import{d as n}from"./dayjs.min-BU-nPhXy.js";import{r as S}from"./relativeTime-C2bs_N-B.js";import{u as $}from"./utc-C0iLQwDY.js";import{_ as w}from"./VouchersComponent-Di8CKQpE.js";import"./ApplicationLogo-D-7gpIhR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-J_4tSk77.js";import"./PaginatorComponent-7NnUSekF.js";import"./SecondaryButton-B3ZlrF3t.js";const B={class:"card"},C={key:0,class:"font-bold text-red-500 text-sm"},M={class:"card"},E={class:"card-header"},F={key:0,class:"text-red-500 text-xs font-bold"},L={class:"grid grid-cols-4 gap-y-12 text-center mt-8"},j={class:"font-bold text-3xl"},q={class:"font-bold text-3xl"},A={class:"font-bold text-3xl"},D={class:"font-bold text-3xl"},R={key:0},Z={class:"font-bold text-3xl"},z={class:"text-xs"},G={key:1},H={class:"font-bold text-3xl"},I={class:"text-xs"},J={class:"card"},K={key:0},O={key:1,class:"text-xs mt-2"},P={class:"card"},Q={key:0},U={class:"card"},W={key:0},X={class:"card"},_e={__name:"VoucherSet",props:{id:{required:!0}},setup(x){n.extend(S),n.extend($);const v=x,t=g({});V(()=>{y()});function y(){axios.get("/admin/voucher-sets/"+v.id+"?cached=false&relations=createdByTeam,allocatedToServiceTeam,voucherSetMerchantTeams.merchantTeam").then(u=>{t.value=u.data.data}).catch(u=>{console.log(u)})}return(u,s)=>(d(),o(p,null,[_(r(k),{title:"Voucher set"}),_(b,null,{header:c(()=>[_(N)]),default:c(()=>[e("div",B,[e("h2",null,a(v.id),1),t.value.is_test?(d(),o("div",C," Test voucher set ")):i("",!0)]),e("div",M,[e("div",E,[s[0]||(s[0]=l(" Voucher set details ")),t.value.voucher_generation_finished_at?i("",!0):(d(),o("span",F,"Vouchers not generated yet."))]),e("div",L,[e("div",null,[e("div",j," $"+a(t.value.total_set_value/100),1),s[1]||(s[1]=l(" Total set value "))]),e("div",null,[e("div",q," $"+a(t.value.total_set_value_remaining/100),1),s[2]||(s[2]=l(" Total remaining value "))]),e("div",null,[e("div",A,a(t.value.num_vouchers),1),s[3]||(s[3]=l(" # Vouchers "))]),e("div",null,[e("div",D,a(t.value.num_voucher_redemptions),1),s[4]||(s[4]=l(" # Redemptions "))]),t.value.last_redemption_at?(d(),o("div",R,[s[5]||(s[5]=e("div",null," Last redeemed ",-1)),e("div",Z,a(r(n).utc(t.value.last_redemption_at).fromNow()),1),e("div",z," ("+a(r(n)(t.value.last_redemption_at))+") ",1)])):i("",!0),t.value.expires_at?(d(),o("div",G,[s[6]||(s[6]=e("div",null," Expires ",-1)),e("div",H,a(r(n).utc(t.value.expires_at).fromNow()),1),e("div",I," ("+a(r(n)(t.value.expires_at))+") ",1)])):i("",!0)])]),e("div",J,[s[7]||(s[7]=e("div",{class:"card-header"}," Created by team ",-1)),t.value.created_by_team?(d(),o("div",K,[_(r(m),{href:u.route("admin.team",{id:t.value.created_by_team_id})},{default:c(()=>[l(a(t.value.created_by_team.name),1)]),_:1},8,["href"])])):i("",!0),t.value.created_at?(d(),o("div",O," Created at: "+a(r(n).utc(t.value.created_at).fromNow())+" ("+a(r(n)(t.value.created_at))+") ",1)):i("",!0)]),e("div",P,[s[8]||(s[8]=e("div",{class:"card-header"}," Allocated to team ",-1)),t.value.allocated_to_service_team?(d(),o("div",Q,[_(r(m),{href:u.route("admin.team",{id:t.value.allocated_to_service_team_id})},{default:c(()=>[l(a(t.value.allocated_to_service_team.name),1)]),_:1},8,["href"])])):i("",!0)]),e("div",U,[s[9]||(s[9]=e("div",{class:"card-header"}," Merchant teams ",-1)),t.value.voucher_set_merchant_teams?(d(),o("div",W,[(d(!0),o(p,null,T(t.value.voucher_set_merchant_teams,h=>(d(),o("div",null,[_(r(m),{href:u.route("admin.team",{id:h.merchant_team_id})},{default:c(()=>{var f;return[l(a(((f=h.merchant_team)==null?void 0:f.name)??"Merchant team"),1)]}),_:2},1032,["href"])]))),256))])):i("",!0)]),e("div",X,[s[10]||(s[10]=e("div",{class:"card-header"}," Vouchers ",-1)),_(w,{"voucher-set-id":v.id},null,8,["voucher-set-id"])]),s[11]||(s[11]=e("div",{class:"pb-32"},null,-1))]),_:1})],64))}};export{_e as default};
